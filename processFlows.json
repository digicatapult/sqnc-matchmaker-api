[
  {
    "name": "permission_create",
    "program": [
      {
        "Restriction": {
          "FixedArgCount": {
            "arg_type": "Reference",
            "count": 0
          }
        }
      },
      {
        "Restriction": {
          "FixedArgCount": {
            "arg_type": "Input",
            "count": 0
          }
        }
      },
      {
        "Op": "And"
      },
      {
        "Restriction": {
          "FixedArgCount": {
            "arg_type": "Output",
            "count": 1
          }
        }
      },
      {
        "Op": "And"
      },
      {
        "Restriction": {
          "FixedArgMetadataValue": {
            "arg_type": "Output",
            "index": 0,
            "metadata_key": "@type",
            "metadata_value": {
              "Literal": "Permission"
            }
          }
        }
      },
      {
        "Op": "And"
      },
      {
        "Restriction": {
          "FixedArgMetadataValue": {
            "arg_type": "Output",
            "index": 0,
            "metadata_key": "@version",
            "metadata_value": {
              "Literal": "1"
            }
          }
        }
      },
      {
        "Op": "And"
      },
      {
        "Restriction": {
          "ArgHasRole": {
            "arg_type": "Output",
            "index": 0,
            "role_key": "owner"
          }
        }
      },
      {
        "Op": "And"
      },
      {
        "Restriction": {
          "FixedArgMetadataValue": {
            "arg_type": "Output",
            "index": 0,
            "metadata_key": "scope",
            "metadata_value": {
              "Literal": "optimiser"
            }
          }
        }
      },
      {
        "Restriction": {
          "FixedArgMetadataValue": {
            "arg_type": "Output",
            "index": 0,
            "metadata_key": "scope",
            "metadata_value": {
              "Literal": "member_b"
            }
          }
        }
      },
      {
        "Restriction": {
          "FixedArgMetadataValue": {
            "arg_type": "Output",
            "index": 0,
            "metadata_key": "scope",
            "metadata_value": {
              "Literal": "member_a"
            }
          }
        }
      },
      {
        "Op": "Or"
      },
      {
        "Op": "Or"
      },
      {
        "Op": "And"
      },
      {
        "Restriction": "SenderIsRoot"
      },
      {
        "Op": "And"
      }
    ],
    "version": 1
  },
  {
    "name": "permission_destroy",
    "program": [
      {
        "Restriction": {
          "FixedArgCount": {
            "arg_type": "Reference",
            "count": 0
          }
        }
      },
      {
        "Restriction": {
          "FixedArgCount": {
            "arg_type": "Input",
            "count": 1
          }
        }
      },
      {
        "Op": "And"
      },
      {
        "Restriction": {
          "FixedArgCount": {
            "arg_type": "Output",
            "count": 0
          }
        }
      },
      {
        "Op": "And"
      },
      {
        "Restriction": {
          "FixedArgMetadataValue": {
            "arg_type": "Input",
            "index": 0,
            "metadata_key": "@type",
            "metadata_value": {
              "Literal": "Permission"
            }
          }
        }
      },
      {
        "Op": "And"
      },
      {
        "Restriction": {
          "FixedArgMetadataValue": {
            "arg_type": "Input",
            "index": 0,
            "metadata_key": "@version",
            "metadata_value": {
              "Literal": "1"
            }
          }
        }
      },
      {
        "Op": "And"
      },
      {
        "Restriction": {
          "ArgHasRole": {
            "arg_type": "Input",
            "index": 0,
            "role_key": "owner"
          }
        }
      },
      {
        "Op": "And"
      },
      {
        "Restriction": {
          "FixedArgMetadataValue": {
            "arg_type": "Input",
            "index": 0,
            "metadata_key": "scope",
            "metadata_value": {
              "Literal": "optimiser"
            }
          }
        }
      },
      {
        "Restriction": {
          "FixedArgMetadataValue": {
            "arg_type": "Input",
            "index": 0,
            "metadata_key": "scope",
            "metadata_value": {
              "Literal": "member_b"
            }
          }
        }
      },
      {
        "Restriction": {
          "FixedArgMetadataValue": {
            "arg_type": "Input",
            "index": 0,
            "metadata_key": "scope",
            "metadata_value": {
              "Literal": "member_a"
            }
          }
        }
      },
      {
        "Op": "Or"
      },
      {
        "Op": "Or"
      },
      {
        "Op": "And"
      },
      {
        "Restriction": "SenderIsRoot"
      },
      {
        "Op": "And"
      }
    ],
    "version": 1
  },
  {
    "name": "demand_create",
    "program": [
      {
        "Restriction": {
          "FixedArgCount": {
            "arg_type": "Reference",
            "count": 1
          }
        }
      },
      {
        "Restriction": {
          "FixedArgCount": {
            "arg_type": "Input",
            "count": 0
          }
        }
      },
      {
        "Op": "And"
      },
      {
        "Restriction": {
          "FixedArgCount": {
            "arg_type": "Output",
            "count": 1
          }
        }
      },
      {
        "Op": "And"
      },
      {
        "Restriction": {
          "FixedArgMetadataValue": {
            "arg_type": "Reference",
            "index": 0,
            "metadata_key": "@type",
            "metadata_value": {
              "Literal": "Permission"
            }
          }
        }
      },
      {
        "Op": "And"
      },
      {
        "Restriction": {
          "FixedArgMetadataValue": {
            "arg_type": "Reference",
            "index": 0,
            "metadata_key": "@version",
            "metadata_value": {
              "Literal": "1"
            }
          }
        }
      },
      {
        "Op": "And"
      },
      {
        "Restriction": {
          "FixedArgMetadataValue": {
            "arg_type": "Output",
            "index": 0,
            "metadata_key": "@type",
            "metadata_value": {
              "Literal": "Demand"
            }
          }
        }
      },
      {
        "Op": "And"
      },
      {
        "Restriction": {
          "FixedArgMetadataValue": {
            "arg_type": "Output",
            "index": 0,
            "metadata_key": "@version",
            "metadata_value": {
              "Literal": "1"
            }
          }
        }
      },
      {
        "Op": "And"
      },
      {
        "Restriction": {
          "ArgHasRole": {
            "arg_type": "Reference",
            "index": 0,
            "role_key": "owner"
          }
        }
      },
      {
        "Op": "And"
      },
      {
        "Restriction": {
          "FixedArgMetadataValue": {
            "arg_type": "Reference",
            "index": 0,
            "metadata_key": "scope",
            "metadata_value": {
              "Literal": "optimiser"
            }
          }
        }
      },
      {
        "Restriction": {
          "FixedArgMetadataValue": {
            "arg_type": "Reference",
            "index": 0,
            "metadata_key": "scope",
            "metadata_value": {
              "Literal": "member_b"
            }
          }
        }
      },
      {
        "Restriction": {
          "FixedArgMetadataValue": {
            "arg_type": "Reference",
            "index": 0,
            "metadata_key": "scope",
            "metadata_value": {
              "Literal": "member_a"
            }
          }
        }
      },
      {
        "Op": "Or"
      },
      {
        "Op": "Or"
      },
      {
        "Op": "And"
      },
      {
        "Restriction": {
          "ArgHasRole": {
            "arg_type": "Output",
            "index": 0,
            "role_key": "owner"
          }
        }
      },
      {
        "Op": "And"
      },
      {
        "Restriction": {
          "FixedArgMetadataValue": {
            "arg_type": "Output",
            "index": 0,
            "metadata_key": "subtype",
            "metadata_value": {
              "Literal": "demand_b"
            }
          }
        }
      },
      {
        "Restriction": {
          "FixedArgMetadataValue": {
            "arg_type": "Output",
            "index": 0,
            "metadata_key": "subtype",
            "metadata_value": {
              "Literal": "demand_a"
            }
          }
        }
      },
      {
        "Op": "Or"
      },
      {
        "Op": "And"
      },
      {
        "Restriction": {
          "FixedArgMetadataValue": {
            "arg_type": "Output",
            "index": 0,
            "metadata_key": "state",
            "metadata_value": {
              "Literal": "cancelled"
            }
          }
        }
      },
      {
        "Restriction": {
          "FixedArgMetadataValue": {
            "arg_type": "Output",
            "index": 0,
            "metadata_key": "state",
            "metadata_value": {
              "Literal": "allocated"
            }
          }
        }
      },
      {
        "Restriction": {
          "FixedArgMetadataValue": {
            "arg_type": "Output",
            "index": 0,
            "metadata_key": "state",
            "metadata_value": {
              "Literal": "created"
            }
          }
        }
      },
      {
        "Op": "Or"
      },
      {
        "Op": "Or"
      },
      {
        "Op": "And"
      },
      {
        "Restriction": {
          "ArgHasMetadata": {
            "arg_type": "Output",
            "index": 0,
            "metadata_key": "parameters"
          }
        }
      },
      {
        "Restriction": "None"
      },
      {
        "Op": "NotL"
      },
      {
        "Restriction": {
          "FixedArgMetadataValueType": {
            "arg_type": "Output",
            "index": 0,
            "metadata_key": "parameters",
            "metadata_value_type": "File"
          }
        }
      },
      {
        "Op": "Or"
      },
      {
        "Op": "And"
      },
      {
        "Restriction": {
          "FixedArgMetadataValueType": {
            "arg_type": "Output",
            "index": 0,
            "metadata_key": "comment",
            "metadata_value_type": "File"
          }
        }
      },
      {
        "Restriction": {
          "ArgHasMetadata": {
            "arg_type": "Output",
            "index": 0,
            "metadata_key": "comment"
          }
        }
      },
      {
        "Restriction": "None"
      },
      {
        "Op": "NotL"
      },
      {
        "Op": "Or"
      },
      {
        "Op": "And"
      },
      {
        "Restriction": {
          "SenderHasArgRole": {
            "arg_type": "Reference",
            "index": 0,
            "role_key": "owner"
          }
        }
      },
      {
        "Op": "And"
      },
      {
        "Restriction": {
          "FixedArgMetadataValue": {
            "arg_type": "Reference",
            "index": 0,
            "metadata_key": "scope",
            "metadata_value": {
              "Literal": "member_a"
            }
          }
        }
      },
      {
        "Restriction": {
          "FixedArgMetadataValue": {
            "arg_type": "Output",
            "index": 0,
            "metadata_key": "subtype",
            "metadata_value": {
              "Literal": "demand_a"
            }
          }
        }
      },
      {
        "Op": "And"
      },
      {
        "Restriction": {
          "FixedArgMetadataValue": {
            "arg_type": "Reference",
            "index": 0,
            "metadata_key": "scope",
            "metadata_value": {
              "Literal": "member_b"
            }
          }
        }
      },
      {
        "Restriction": {
          "FixedArgMetadataValue": {
            "arg_type": "Output",
            "index": 0,
            "metadata_key": "subtype",
            "metadata_value": {
              "Literal": "demand_b"
            }
          }
        }
      },
      {
        "Op": "And"
      },
      {
        "Op": "Or"
      },
      {
        "Op": "And"
      },
      {
        "Restriction": {
          "SenderHasArgRole": {
            "arg_type": "Output",
            "index": 0,
            "role_key": "owner"
          }
        }
      },
      {
        "Op": "And"
      },
      {
        "Restriction": {
          "FixedArgMetadataValue": {
            "arg_type": "Output",
            "index": 0,
            "metadata_key": "state",
            "metadata_value": {
              "Literal": "created"
            }
          }
        }
      },
      {
        "Op": "And"
      },
      {
        "Restriction": {
          "FixedArgMetadataValueType": {
            "arg_type": "Output",
            "index": 0,
            "metadata_key": "parameters",
            "metadata_value_type": "File"
          }
        }
      },
      {
        "Op": "And"
      }
    ],
    "version": 2
  },
  {
    "name": "match2_propose",
    "program": [
      {
        "Restriction": {
          "FixedArgCount": {
            "arg_type": "Reference",
            "count": 3
          }
        }
      },
      {
        "Restriction": {
          "FixedArgCount": {
            "arg_type": "Input",
            "count": 0
          }
        }
      },
      {
        "Op": "And"
      },
      {
        "Restriction": {
          "FixedArgCount": {
            "arg_type": "Output",
            "count": 1
          }
        }
      },
      {
        "Op": "And"
      },
      {
        "Restriction": {
          "FixedArgMetadataValue": {
            "arg_type": "Reference",
            "index": 0,
            "metadata_key": "@type",
            "metadata_value": {
              "Literal": "Permission"
            }
          }
        }
      },
      {
        "Op": "And"
      },
      {
        "Restriction": {
          "FixedArgMetadataValue": {
            "arg_type": "Reference",
            "index": 0,
            "metadata_key": "@version",
            "metadata_value": {
              "Literal": "1"
            }
          }
        }
      },
      {
        "Op": "And"
      },
      {
        "Restriction": {
          "FixedArgMetadataValue": {
            "arg_type": "Reference",
            "index": 1,
            "metadata_key": "@type",
            "metadata_value": {
              "Literal": "Demand"
            }
          }
        }
      },
      {
        "Op": "And"
      },
      {
        "Restriction": {
          "FixedArgMetadataValue": {
            "arg_type": "Reference",
            "index": 1,
            "metadata_key": "@version",
            "metadata_value": {
              "Literal": "1"
            }
          }
        }
      },
      {
        "Op": "And"
      },
      {
        "Restriction": {
          "FixedArgMetadataValue": {
            "arg_type": "Reference",
            "index": 2,
            "metadata_key": "@type",
            "metadata_value": {
              "Literal": "Demand"
            }
          }
        }
      },
      {
        "Op": "And"
      },
      {
        "Restriction": {
          "FixedArgMetadataValue": {
            "arg_type": "Reference",
            "index": 2,
            "metadata_key": "@version",
            "metadata_value": {
              "Literal": "1"
            }
          }
        }
      },
      {
        "Op": "And"
      },
      {
        "Restriction": {
          "FixedArgMetadataValue": {
            "arg_type": "Output",
            "index": 0,
            "metadata_key": "@type",
            "metadata_value": {
              "Literal": "Match2"
            }
          }
        }
      },
      {
        "Op": "And"
      },
      {
        "Restriction": {
          "FixedArgMetadataValue": {
            "arg_type": "Output",
            "index": 0,
            "metadata_key": "@version",
            "metadata_value": {
              "Literal": "1"
            }
          }
        }
      },
      {
        "Op": "And"
      },
      {
        "Restriction": {
          "ArgHasRole": {
            "arg_type": "Reference",
            "index": 0,
            "role_key": "owner"
          }
        }
      },
      {
        "Op": "And"
      },
      {
        "Restriction": {
          "FixedArgMetadataValue": {
            "arg_type": "Reference",
            "index": 0,
            "metadata_key": "scope",
            "metadata_value": {
              "Literal": "optimiser"
            }
          }
        }
      },
      {
        "Restriction": {
          "FixedArgMetadataValue": {
            "arg_type": "Reference",
            "index": 0,
            "metadata_key": "scope",
            "metadata_value": {
              "Literal": "member_b"
            }
          }
        }
      },
      {
        "Restriction": {
          "FixedArgMetadataValue": {
            "arg_type": "Reference",
            "index": 0,
            "metadata_key": "scope",
            "metadata_value": {
              "Literal": "member_a"
            }
          }
        }
      },
      {
        "Op": "Or"
      },
      {
        "Op": "Or"
      },
      {
        "Op": "And"
      },
      {
        "Restriction": {
          "ArgHasRole": {
            "arg_type": "Reference",
            "index": 1,
            "role_key": "owner"
          }
        }
      },
      {
        "Op": "And"
      },
      {
        "Restriction": {
          "FixedArgMetadataValue": {
            "arg_type": "Reference",
            "index": 1,
            "metadata_key": "subtype",
            "metadata_value": {
              "Literal": "demand_b"
            }
          }
        }
      },
      {
        "Restriction": {
          "FixedArgMetadataValue": {
            "arg_type": "Reference",
            "index": 1,
            "metadata_key": "subtype",
            "metadata_value": {
              "Literal": "demand_a"
            }
          }
        }
      },
      {
        "Op": "Or"
      },
      {
        "Op": "And"
      },
      {
        "Restriction": {
          "FixedArgMetadataValue": {
            "arg_type": "Reference",
            "index": 1,
            "metadata_key": "state",
            "metadata_value": {
              "Literal": "cancelled"
            }
          }
        }
      },
      {
        "Restriction": {
          "FixedArgMetadataValue": {
            "arg_type": "Reference",
            "index": 1,
            "metadata_key": "state",
            "metadata_value": {
              "Literal": "allocated"
            }
          }
        }
      },
      {
        "Restriction": {
          "FixedArgMetadataValue": {
            "arg_type": "Reference",
            "index": 1,
            "metadata_key": "state",
            "metadata_value": {
              "Literal": "created"
            }
          }
        }
      },
      {
        "Op": "Or"
      },
      {
        "Op": "Or"
      },
      {
        "Op": "And"
      },
      {
        "Restriction": {
          "ArgHasMetadata": {
            "arg_type": "Reference",
            "index": 1,
            "metadata_key": "parameters"
          }
        }
      },
      {
        "Restriction": "None"
      },
      {
        "Op": "NotL"
      },
      {
        "Restriction": {
          "FixedArgMetadataValueType": {
            "arg_type": "Reference",
            "index": 1,
            "metadata_key": "parameters",
            "metadata_value_type": "File"
          }
        }
      },
      {
        "Op": "Or"
      },
      {
        "Op": "And"
      },
      {
        "Restriction": {
          "FixedArgMetadataValueType": {
            "arg_type": "Reference",
            "index": 1,
            "metadata_key": "comment",
            "metadata_value_type": "File"
          }
        }
      },
      {
        "Restriction": {
          "ArgHasMetadata": {
            "arg_type": "Reference",
            "index": 1,
            "metadata_key": "comment"
          }
        }
      },
      {
        "Restriction": "None"
      },
      {
        "Op": "NotL"
      },
      {
        "Op": "Or"
      },
      {
        "Op": "And"
      },
      {
        "Restriction": {
          "ArgHasRole": {
            "arg_type": "Reference",
            "index": 2,
            "role_key": "owner"
          }
        }
      },
      {
        "Op": "And"
      },
      {
        "Restriction": {
          "FixedArgMetadataValue": {
            "arg_type": "Reference",
            "index": 2,
            "metadata_key": "subtype",
            "metadata_value": {
              "Literal": "demand_b"
            }
          }
        }
      },
      {
        "Restriction": {
          "FixedArgMetadataValue": {
            "arg_type": "Reference",
            "index": 2,
            "metadata_key": "subtype",
            "metadata_value": {
              "Literal": "demand_a"
            }
          }
        }
      },
      {
        "Op": "Or"
      },
      {
        "Op": "And"
      },
      {
        "Restriction": {
          "FixedArgMetadataValue": {
            "arg_type": "Reference",
            "index": 2,
            "metadata_key": "state",
            "metadata_value": {
              "Literal": "cancelled"
            }
          }
        }
      },
      {
        "Restriction": {
          "FixedArgMetadataValue": {
            "arg_type": "Reference",
            "index": 2,
            "metadata_key": "state",
            "metadata_value": {
              "Literal": "allocated"
            }
          }
        }
      },
      {
        "Restriction": {
          "FixedArgMetadataValue": {
            "arg_type": "Reference",
            "index": 2,
            "metadata_key": "state",
            "metadata_value": {
              "Literal": "created"
            }
          }
        }
      },
      {
        "Op": "Or"
      },
      {
        "Op": "Or"
      },
      {
        "Op": "And"
      },
      {
        "Restriction": {
          "ArgHasMetadata": {
            "arg_type": "Reference",
            "index": 2,
            "metadata_key": "parameters"
          }
        }
      },
      {
        "Restriction": "None"
      },
      {
        "Op": "NotL"
      },
      {
        "Restriction": {
          "FixedArgMetadataValueType": {
            "arg_type": "Reference",
            "index": 2,
            "metadata_key": "parameters",
            "metadata_value_type": "File"
          }
        }
      },
      {
        "Op": "Or"
      },
      {
        "Op": "And"
      },
      {
        "Restriction": {
          "FixedArgMetadataValueType": {
            "arg_type": "Reference",
            "index": 2,
            "metadata_key": "comment",
            "metadata_value_type": "File"
          }
        }
      },
      {
        "Restriction": {
          "ArgHasMetadata": {
            "arg_type": "Reference",
            "index": 2,
            "metadata_key": "comment"
          }
        }
      },
      {
        "Restriction": "None"
      },
      {
        "Op": "NotL"
      },
      {
        "Op": "Or"
      },
      {
        "Op": "And"
      },
      {
        "Restriction": {
          "ArgHasRole": {
            "arg_type": "Output",
            "index": 0,
            "role_key": "optimiser"
          }
        }
      },
      {
        "Op": "And"
      },
      {
        "Restriction": {
          "ArgHasRole": {
            "arg_type": "Output",
            "index": 0,
            "role_key": "member_a"
          }
        }
      },
      {
        "Op": "And"
      },
      {
        "Restriction": {
          "FixedArgMetadataValueType": {
            "arg_type": "Output",
            "index": 0,
            "metadata_key": "demand_a",
            "metadata_value_type": "TokenId"
          }
        }
      },
      {
        "Op": "And"
      },
      {
        "Restriction": {
          "ArgHasRole": {
            "arg_type": "Output",
            "index": 0,
            "role_key": "member_b"
          }
        }
      },
      {
        "Op": "And"
      },
      {
        "Restriction": {
          "FixedArgMetadataValueType": {
            "arg_type": "Output",
            "index": 0,
            "metadata_key": "demand_b",
            "metadata_value_type": "TokenId"
          }
        }
      },
      {
        "Op": "And"
      },
      {
        "Restriction": {
          "FixedArgMetadataValue": {
            "arg_type": "Output",
            "index": 0,
            "metadata_key": "state",
            "metadata_value": {
              "Literal": "cancelled"
            }
          }
        }
      },
      {
        "Restriction": {
          "FixedArgMetadataValue": {
            "arg_type": "Output",
            "index": 0,
            "metadata_key": "state",
            "metadata_value": {
              "Literal": "acceptedFinal"
            }
          }
        }
      },
      {
        "Restriction": {
          "FixedArgMetadataValue": {
            "arg_type": "Output",
            "index": 0,
            "metadata_key": "state",
            "metadata_value": {
              "Literal": "acceptedB"
            }
          }
        }
      },
      {
        "Restriction": {
          "FixedArgMetadataValue": {
            "arg_type": "Output",
            "index": 0,
            "metadata_key": "state",
            "metadata_value": {
              "Literal": "acceptedA"
            }
          }
        }
      },
      {
        "Restriction": {
          "FixedArgMetadataValue": {
            "arg_type": "Output",
            "index": 0,
            "metadata_key": "state",
            "metadata_value": {
              "Literal": "proposed"
            }
          }
        }
      },
      {
        "Op": "Or"
      },
      {
        "Op": "Or"
      },
      {
        "Op": "Or"
      },
      {
        "Op": "Or"
      },
      {
        "Op": "And"
      },
      {
        "Restriction": {
          "ArgHasMetadata": {
            "arg_type": "Output",
            "index": 0,
            "metadata_key": "replaces"
          }
        }
      },
      {
        "Restriction": "None"
      },
      {
        "Op": "NotL"
      },
      {
        "Restriction": {
          "FixedArgMetadataValueType": {
            "arg_type": "Output",
            "index": 0,
            "metadata_key": "replaces",
            "metadata_value_type": "TokenId"
          }
        }
      },
      {
        "Op": "Or"
      },
      {
        "Op": "And"
      },
      {
        "Restriction": {
          "FixedArgMetadataValueType": {
            "arg_type": "Output",
            "index": 0,
            "metadata_key": "comment",
            "metadata_value_type": "File"
          }
        }
      },
      {
        "Restriction": {
          "ArgHasMetadata": {
            "arg_type": "Output",
            "index": 0,
            "metadata_key": "comment"
          }
        }
      },
      {
        "Restriction": "None"
      },
      {
        "Op": "NotL"
      },
      {
        "Op": "Or"
      },
      {
        "Op": "And"
      },
      {
        "Restriction": {
          "SenderHasArgRole": {
            "arg_type": "Reference",
            "index": 0,
            "role_key": "owner"
          }
        }
      },
      {
        "Op": "And"
      },
      {
        "Restriction": {
          "FixedArgMetadataValue": {
            "arg_type": "Reference",
            "index": 0,
            "metadata_key": "scope",
            "metadata_value": {
              "Literal": "optimiser"
            }
          }
        }
      },
      {
        "Op": "And"
      },
      {
        "Restriction": {
          "FixedArgMetadataValue": {
            "arg_type": "Reference",
            "index": 1,
            "metadata_key": "subtype",
            "metadata_value": {
              "Literal": "demand_a"
            }
          }
        }
      },
      {
        "Op": "And"
      },
      {
        "Restriction": {
          "FixedArgMetadataValue": {
            "arg_type": "Reference",
            "index": 2,
            "metadata_key": "subtype",
            "metadata_value": {
              "Literal": "demand_b"
            }
          }
        }
      },
      {
        "Op": "And"
      },
      {
        "Restriction": {
          "SenderHasArgRole": {
            "arg_type": "Output",
            "index": 0,
            "role_key": "optimiser"
          }
        }
      },
      {
        "Op": "And"
      },
      {
        "Restriction": {
          "MatchArgsMetadataValue": {
            "left_arg_type": "Reference",
            "left_index": 1,
            "left_metadata_key": "@original_id",
            "right_arg_type": "Output",
            "right_index": 0,
            "right_metadata_key": "demand_a"
          }
        }
      },
      {
        "Restriction": {
          "ArgHasMetadata": {
            "arg_type": "Reference",
            "index": 1,
            "metadata_key": "demand_a"
          }
        }
      },
      {
        "Restriction": {
          "MatchArgIdToMetadataValue": {
            "left_arg_type": "Reference",
            "left_index": 1,
            "right_arg_type": "Output",
            "right_index": 0,
            "right_metadata_key": "demand_a"
          }
        }
      },
      {
        "Op": "InhibitionR"
      },
      {
        "Op": "Xor"
      },
      {
        "Restriction": {
          "MatchArgsRole": {
            "left_arg_type": "Reference",
            "left_index": 1,
            "left_role_key": "owner",
            "right_arg_type": "Output",
            "right_index": 0,
            "right_role_key": "member_a"
          }
        }
      },
      {
        "Op": "And"
      },
      {
        "Restriction": {
          "MatchArgsMetadataValue": {
            "left_arg_type": "Reference",
            "left_index": 2,
            "left_metadata_key": "@original_id",
            "right_arg_type": "Output",
            "right_index": 0,
            "right_metadata_key": "demand_b"
          }
        }
      },
      {
        "Restriction": {
          "ArgHasMetadata": {
            "arg_type": "Reference",
            "index": 2,
            "metadata_key": "demand_b"
          }
        }
      },
      {
        "Restriction": {
          "MatchArgIdToMetadataValue": {
            "left_arg_type": "Reference",
            "left_index": 2,
            "right_arg_type": "Output",
            "right_index": 0,
            "right_metadata_key": "demand_b"
          }
        }
      },
      {
        "Op": "InhibitionR"
      },
      {
        "Op": "Xor"
      },
      {
        "Restriction": {
          "MatchArgsRole": {
            "left_arg_type": "Reference",
            "left_index": 2,
            "left_role_key": "owner",
            "right_arg_type": "Output",
            "right_index": 0,
            "right_role_key": "member_b"
          }
        }
      },
      {
        "Op": "And"
      },
      {
        "Op": "And"
      },
      {
        "Op": "And"
      },
      {
        "Restriction": {
          "FixedArgMetadataValue": {
            "arg_type": "Output",
            "index": 0,
            "metadata_key": "state",
            "metadata_value": {
              "Literal": "proposed"
            }
          }
        }
      },
      {
        "Op": "And"
      },
      {
        "Restriction": {
          "ArgHasMetadata": {
            "arg_type": "Output",
            "index": 0,
            "metadata_key": "replaces"
          }
        }
      },
      {
        "Restriction": "None"
      },
      {
        "Op": "NotL"
      },
      {
        "Op": "And"
      }
    ],
    "version": 2
  },
  {
    "name": "match2_accept",
    "program": [
      {
        "Restriction": {
          "FixedArgCount": {
            "arg_type": "Reference",
            "count": 0
          }
        }
      },
      {
        "Restriction": {
          "FixedArgCount": {
            "arg_type": "Input",
            "count": 1
          }
        }
      },
      {
        "Op": "And"
      },
      {
        "Restriction": {
          "FixedArgCount": {
            "arg_type": "Output",
            "count": 1
          }
        }
      },
      {
        "Op": "And"
      },
      {
        "Restriction": {
          "FixedArgMetadataValue": {
            "arg_type": "Input",
            "index": 0,
            "metadata_key": "@type",
            "metadata_value": {
              "Literal": "Match2"
            }
          }
        }
      },
      {
        "Op": "And"
      },
      {
        "Restriction": {
          "FixedArgMetadataValue": {
            "arg_type": "Input",
            "index": 0,
            "metadata_key": "@version",
            "metadata_value": {
              "Literal": "1"
            }
          }
        }
      },
      {
        "Op": "And"
      },
      {
        "Restriction": {
          "FixedArgMetadataValue": {
            "arg_type": "Output",
            "index": 0,
            "metadata_key": "@type",
            "metadata_value": {
              "Literal": "Match2"
            }
          }
        }
      },
      {
        "Op": "And"
      },
      {
        "Restriction": {
          "FixedArgMetadataValue": {
            "arg_type": "Output",
            "index": 0,
            "metadata_key": "@version",
            "metadata_value": {
              "Literal": "1"
            }
          }
        }
      },
      {
        "Op": "And"
      },
      {
        "Restriction": {
          "ArgHasRole": {
            "arg_type": "Input",
            "index": 0,
            "role_key": "optimiser"
          }
        }
      },
      {
        "Op": "And"
      },
      {
        "Restriction": {
          "ArgHasRole": {
            "arg_type": "Input",
            "index": 0,
            "role_key": "member_a"
          }
        }
      },
      {
        "Op": "And"
      },
      {
        "Restriction": {
          "FixedArgMetadataValueType": {
            "arg_type": "Input",
            "index": 0,
            "metadata_key": "demand_a",
            "metadata_value_type": "TokenId"
          }
        }
      },
      {
        "Op": "And"
      },
      {
        "Restriction": {
          "ArgHasRole": {
            "arg_type": "Input",
            "index": 0,
            "role_key": "member_b"
          }
        }
      },
      {
        "Op": "And"
      },
      {
        "Restriction": {
          "FixedArgMetadataValueType": {
            "arg_type": "Input",
            "index": 0,
            "metadata_key": "demand_b",
            "metadata_value_type": "TokenId"
          }
        }
      },
      {
        "Op": "And"
      },
      {
        "Restriction": {
          "FixedArgMetadataValue": {
            "arg_type": "Input",
            "index": 0,
            "metadata_key": "state",
            "metadata_value": {
              "Literal": "cancelled"
            }
          }
        }
      },
      {
        "Restriction": {
          "FixedArgMetadataValue": {
            "arg_type": "Input",
            "index": 0,
            "metadata_key": "state",
            "metadata_value": {
              "Literal": "acceptedFinal"
            }
          }
        }
      },
      {
        "Restriction": {
          "FixedArgMetadataValue": {
            "arg_type": "Input",
            "index": 0,
            "metadata_key": "state",
            "metadata_value": {
              "Literal": "acceptedB"
            }
          }
        }
      },
      {
        "Restriction": {
          "FixedArgMetadataValue": {
            "arg_type": "Input",
            "index": 0,
            "metadata_key": "state",
            "metadata_value": {
              "Literal": "acceptedA"
            }
          }
        }
      },
      {
        "Restriction": {
          "FixedArgMetadataValue": {
            "arg_type": "Input",
            "index": 0,
            "metadata_key": "state",
            "metadata_value": {
              "Literal": "proposed"
            }
          }
        }
      },
      {
        "Op": "Or"
      },
      {
        "Op": "Or"
      },
      {
        "Op": "Or"
      },
      {
        "Op": "Or"
      },
      {
        "Op": "And"
      },
      {
        "Restriction": {
          "ArgHasMetadata": {
            "arg_type": "Input",
            "index": 0,
            "metadata_key": "replaces"
          }
        }
      },
      {
        "Restriction": "None"
      },
      {
        "Op": "NotL"
      },
      {
        "Restriction": {
          "FixedArgMetadataValueType": {
            "arg_type": "Input",
            "index": 0,
            "metadata_key": "replaces",
            "metadata_value_type": "TokenId"
          }
        }
      },
      {
        "Op": "Or"
      },
      {
        "Op": "And"
      },
      {
        "Restriction": {
          "FixedArgMetadataValueType": {
            "arg_type": "Input",
            "index": 0,
            "metadata_key": "comment",
            "metadata_value_type": "File"
          }
        }
      },
      {
        "Restriction": {
          "ArgHasMetadata": {
            "arg_type": "Input",
            "index": 0,
            "metadata_key": "comment"
          }
        }
      },
      {
        "Restriction": "None"
      },
      {
        "Op": "NotL"
      },
      {
        "Op": "Or"
      },
      {
        "Op": "And"
      },
      {
        "Restriction": {
          "ArgHasRole": {
            "arg_type": "Output",
            "index": 0,
            "role_key": "optimiser"
          }
        }
      },
      {
        "Op": "And"
      },
      {
        "Restriction": {
          "ArgHasRole": {
            "arg_type": "Output",
            "index": 0,
            "role_key": "member_a"
          }
        }
      },
      {
        "Op": "And"
      },
      {
        "Restriction": {
          "FixedArgMetadataValueType": {
            "arg_type": "Output",
            "index": 0,
            "metadata_key": "demand_a",
            "metadata_value_type": "TokenId"
          }
        }
      },
      {
        "Op": "And"
      },
      {
        "Restriction": {
          "ArgHasRole": {
            "arg_type": "Output",
            "index": 0,
            "role_key": "member_b"
          }
        }
      },
      {
        "Op": "And"
      },
      {
        "Restriction": {
          "FixedArgMetadataValueType": {
            "arg_type": "Output",
            "index": 0,
            "metadata_key": "demand_b",
            "metadata_value_type": "TokenId"
          }
        }
      },
      {
        "Op": "And"
      },
      {
        "Restriction": {
          "FixedArgMetadataValue": {
            "arg_type": "Output",
            "index": 0,
            "metadata_key": "state",
            "metadata_value": {
              "Literal": "cancelled"
            }
          }
        }
      },
      {
        "Restriction": {
          "FixedArgMetadataValue": {
            "arg_type": "Output",
            "index": 0,
            "metadata_key": "state",
            "metadata_value": {
              "Literal": "acceptedFinal"
            }
          }
        }
      },
      {
        "Restriction": {
          "FixedArgMetadataValue": {
            "arg_type": "Output",
            "index": 0,
            "metadata_key": "state",
            "metadata_value": {
              "Literal": "acceptedB"
            }
          }
        }
      },
      {
        "Restriction": {
          "FixedArgMetadataValue": {
            "arg_type": "Output",
            "index": 0,
            "metadata_key": "state",
            "metadata_value": {
              "Literal": "acceptedA"
            }
          }
        }
      },
      {
        "Restriction": {
          "FixedArgMetadataValue": {
            "arg_type": "Output",
            "index": 0,
            "metadata_key": "state",
            "metadata_value": {
              "Literal": "proposed"
            }
          }
        }
      },
      {
        "Op": "Or"
      },
      {
        "Op": "Or"
      },
      {
        "Op": "Or"
      },
      {
        "Op": "Or"
      },
      {
        "Op": "And"
      },
      {
        "Restriction": {
          "ArgHasMetadata": {
            "arg_type": "Output",
            "index": 0,
            "metadata_key": "replaces"
          }
        }
      },
      {
        "Restriction": "None"
      },
      {
        "Op": "NotL"
      },
      {
        "Restriction": {
          "FixedArgMetadataValueType": {
            "arg_type": "Output",
            "index": 0,
            "metadata_key": "replaces",
            "metadata_value_type": "TokenId"
          }
        }
      },
      {
        "Op": "Or"
      },
      {
        "Op": "And"
      },
      {
        "Restriction": {
          "FixedArgMetadataValueType": {
            "arg_type": "Output",
            "index": 0,
            "metadata_key": "comment",
            "metadata_value_type": "File"
          }
        }
      },
      {
        "Restriction": {
          "ArgHasMetadata": {
            "arg_type": "Output",
            "index": 0,
            "metadata_key": "comment"
          }
        }
      },
      {
        "Restriction": "None"
      },
      {
        "Op": "NotL"
      },
      {
        "Op": "Or"
      },
      {
        "Op": "And"
      },
      {
        "Restriction": {
          "MatchArgsMetadataValue": {
            "left_arg_type": "Input",
            "left_index": 0,
            "left_metadata_key": "@original_id",
            "right_arg_type": "Output",
            "right_index": 0,
            "right_metadata_key": "@original_id"
          }
        }
      },
      {
        "Restriction": {
          "ArgHasMetadata": {
            "arg_type": "Input",
            "index": 0,
            "metadata_key": "@original_id"
          }
        }
      },
      {
        "Restriction": {
          "MatchArgIdToMetadataValue": {
            "left_arg_type": "Input",
            "left_index": 0,
            "right_arg_type": "Output",
            "right_index": 0,
            "right_metadata_key": "@original_id"
          }
        }
      },
      {
        "Op": "InhibitionR"
      },
      {
        "Op": "Xor"
      },
      {
        "Op": "And"
      },
      {
        "Restriction": {
          "MatchArgsRole": {
            "left_arg_type": "Input",
            "left_index": 0,
            "left_role_key": "optimiser",
            "right_arg_type": "Output",
            "right_index": 0,
            "right_role_key": "optimiser"
          }
        }
      },
      {
        "Op": "And"
      },
      {
        "Restriction": {
          "MatchArgsRole": {
            "left_arg_type": "Input",
            "left_index": 0,
            "left_role_key": "member_a",
            "right_arg_type": "Output",
            "right_index": 0,
            "right_role_key": "member_a"
          }
        }
      },
      {
        "Op": "And"
      },
      {
        "Restriction": {
          "MatchArgsMetadataValue": {
            "left_arg_type": "Input",
            "left_index": 0,
            "left_metadata_key": "demand_a",
            "right_arg_type": "Output",
            "right_index": 0,
            "right_metadata_key": "demand_a"
          }
        }
      },
      {
        "Op": "And"
      },
      {
        "Restriction": {
          "MatchArgsRole": {
            "left_arg_type": "Input",
            "left_index": 0,
            "left_role_key": "member_b",
            "right_arg_type": "Output",
            "right_index": 0,
            "right_role_key": "member_b"
          }
        }
      },
      {
        "Op": "And"
      },
      {
        "Restriction": {
          "MatchArgsMetadataValue": {
            "left_arg_type": "Input",
            "left_index": 0,
            "left_metadata_key": "demand_b",
            "right_arg_type": "Output",
            "right_index": 0,
            "right_metadata_key": "demand_b"
          }
        }
      },
      {
        "Op": "And"
      },
      {
        "Restriction": {
          "ArgHasMetadata": {
            "arg_type": "Input",
            "index": 0,
            "metadata_key": "replaces"
          }
        }
      },
      {
        "Restriction": {
          "ArgHasMetadata": {
            "arg_type": "Output",
            "index": 0,
            "metadata_key": "replaces"
          }
        }
      },
      {
        "Op": "Xnor"
      },
      {
        "Restriction": {
          "ArgHasRole": {
            "arg_type": "Input",
            "index": 0,
            "role_key": "replaces"
          }
        }
      },
      {
        "Restriction": {
          "ArgHasRole": {
            "arg_type": "Output",
            "index": 0,
            "role_key": "replaces"
          }
        }
      },
      {
        "Op": "Xnor"
      },
      {
        "Op": "And"
      },
      {
        "Restriction": {
          "MatchArgsMetadataValue": {
            "left_arg_type": "Input",
            "left_index": 0,
            "left_metadata_key": "replaces",
            "right_arg_type": "Output",
            "right_index": 0,
            "right_metadata_key": "replaces"
          }
        }
      },
      {
        "Restriction": {
          "ArgHasMetadata": {
            "arg_type": "Output",
            "index": 0,
            "metadata_key": "replaces"
          }
        }
      },
      {
        "Op": "ImplicationR"
      },
      {
        "Op": "And"
      },
      {
        "Op": "And"
      },
      {
        "Restriction": {
          "FixedArgMetadataValue": {
            "arg_type": "Input",
            "index": 0,
            "metadata_key": "state",
            "metadata_value": {
              "Literal": "proposed"
            }
          }
        }
      },
      {
        "Op": "And"
      },
      {
        "Restriction": {
          "FixedArgMetadataValue": {
            "arg_type": "Output",
            "index": 0,
            "metadata_key": "state",
            "metadata_value": {
              "Literal": "acceptedA"
            }
          }
        }
      },
      {
        "Restriction": {
          "SenderHasArgRole": {
            "arg_type": "Output",
            "index": 0,
            "role_key": "member_a"
          }
        }
      },
      {
        "Op": "And"
      },
      {
        "Restriction": {
          "FixedArgMetadataValue": {
            "arg_type": "Output",
            "index": 0,
            "metadata_key": "state",
            "metadata_value": {
              "Literal": "acceptedB"
            }
          }
        }
      },
      {
        "Restriction": {
          "SenderHasArgRole": {
            "arg_type": "Output",
            "index": 0,
            "role_key": "member_b"
          }
        }
      },
      {
        "Op": "And"
      },
      {
        "Op": "Or"
      },
      {
        "Op": "And"
      }
    ],
    "version": 1
  },
  {
    "name": "match2_acceptFinal",
    "program": [
      {
        "Restriction": {
          "FixedArgCount": {
            "arg_type": "Reference",
            "count": 0
          }
        }
      },
      {
        "Restriction": {
          "FixedArgCount": {
            "arg_type": "Input",
            "count": 3
          }
        }
      },
      {
        "Op": "And"
      },
      {
        "Restriction": {
          "FixedArgCount": {
            "arg_type": "Output",
            "count": 3
          }
        }
      },
      {
        "Op": "And"
      },
      {
        "Restriction": {
          "FixedArgMetadataValue": {
            "arg_type": "Input",
            "index": 0,
            "metadata_key": "@type",
            "metadata_value": {
              "Literal": "Demand"
            }
          }
        }
      },
      {
        "Op": "And"
      },
      {
        "Restriction": {
          "FixedArgMetadataValue": {
            "arg_type": "Input",
            "index": 0,
            "metadata_key": "@version",
            "metadata_value": {
              "Literal": "1"
            }
          }
        }
      },
      {
        "Op": "And"
      },
      {
        "Restriction": {
          "FixedArgMetadataValue": {
            "arg_type": "Input",
            "index": 1,
            "metadata_key": "@type",
            "metadata_value": {
              "Literal": "Demand"
            }
          }
        }
      },
      {
        "Op": "And"
      },
      {
        "Restriction": {
          "FixedArgMetadataValue": {
            "arg_type": "Input",
            "index": 1,
            "metadata_key": "@version",
            "metadata_value": {
              "Literal": "1"
            }
          }
        }
      },
      {
        "Op": "And"
      },
      {
        "Restriction": {
          "FixedArgMetadataValue": {
            "arg_type": "Input",
            "index": 2,
            "metadata_key": "@type",
            "metadata_value": {
              "Literal": "Match2"
            }
          }
        }
      },
      {
        "Op": "And"
      },
      {
        "Restriction": {
          "FixedArgMetadataValue": {
            "arg_type": "Input",
            "index": 2,
            "metadata_key": "@version",
            "metadata_value": {
              "Literal": "1"
            }
          }
        }
      },
      {
        "Op": "And"
      },
      {
        "Restriction": {
          "FixedArgMetadataValue": {
            "arg_type": "Output",
            "index": 0,
            "metadata_key": "@type",
            "metadata_value": {
              "Literal": "Demand"
            }
          }
        }
      },
      {
        "Op": "And"
      },
      {
        "Restriction": {
          "FixedArgMetadataValue": {
            "arg_type": "Output",
            "index": 0,
            "metadata_key": "@version",
            "metadata_value": {
              "Literal": "1"
            }
          }
        }
      },
      {
        "Op": "And"
      },
      {
        "Restriction": {
          "FixedArgMetadataValue": {
            "arg_type": "Output",
            "index": 1,
            "metadata_key": "@type",
            "metadata_value": {
              "Literal": "Demand"
            }
          }
        }
      },
      {
        "Op": "And"
      },
      {
        "Restriction": {
          "FixedArgMetadataValue": {
            "arg_type": "Output",
            "index": 1,
            "metadata_key": "@version",
            "metadata_value": {
              "Literal": "1"
            }
          }
        }
      },
      {
        "Op": "And"
      },
      {
        "Restriction": {
          "FixedArgMetadataValue": {
            "arg_type": "Output",
            "index": 2,
            "metadata_key": "@type",
            "metadata_value": {
              "Literal": "Match2"
            }
          }
        }
      },
      {
        "Op": "And"
      },
      {
        "Restriction": {
          "FixedArgMetadataValue": {
            "arg_type": "Output",
            "index": 2,
            "metadata_key": "@version",
            "metadata_value": {
              "Literal": "1"
            }
          }
        }
      },
      {
        "Op": "And"
      },
      {
        "Restriction": {
          "ArgHasRole": {
            "arg_type": "Input",
            "index": 0,
            "role_key": "owner"
          }
        }
      },
      {
        "Op": "And"
      },
      {
        "Restriction": {
          "FixedArgMetadataValue": {
            "arg_type": "Input",
            "index": 0,
            "metadata_key": "subtype",
            "metadata_value": {
              "Literal": "demand_b"
            }
          }
        }
      },
      {
        "Restriction": {
          "FixedArgMetadataValue": {
            "arg_type": "Input",
            "index": 0,
            "metadata_key": "subtype",
            "metadata_value": {
              "Literal": "demand_a"
            }
          }
        }
      },
      {
        "Op": "Or"
      },
      {
        "Op": "And"
      },
      {
        "Restriction": {
          "FixedArgMetadataValue": {
            "arg_type": "Input",
            "index": 0,
            "metadata_key": "state",
            "metadata_value": {
              "Literal": "cancelled"
            }
          }
        }
      },
      {
        "Restriction": {
          "FixedArgMetadataValue": {
            "arg_type": "Input",
            "index": 0,
            "metadata_key": "state",
            "metadata_value": {
              "Literal": "allocated"
            }
          }
        }
      },
      {
        "Restriction": {
          "FixedArgMetadataValue": {
            "arg_type": "Input",
            "index": 0,
            "metadata_key": "state",
            "metadata_value": {
              "Literal": "created"
            }
          }
        }
      },
      {
        "Op": "Or"
      },
      {
        "Op": "Or"
      },
      {
        "Op": "And"
      },
      {
        "Restriction": {
          "ArgHasMetadata": {
            "arg_type": "Input",
            "index": 0,
            "metadata_key": "parameters"
          }
        }
      },
      {
        "Restriction": "None"
      },
      {
        "Op": "NotL"
      },
      {
        "Restriction": {
          "FixedArgMetadataValueType": {
            "arg_type": "Input",
            "index": 0,
            "metadata_key": "parameters",
            "metadata_value_type": "File"
          }
        }
      },
      {
        "Op": "Or"
      },
      {
        "Op": "And"
      },
      {
        "Restriction": {
          "FixedArgMetadataValueType": {
            "arg_type": "Input",
            "index": 0,
            "metadata_key": "comment",
            "metadata_value_type": "File"
          }
        }
      },
      {
        "Restriction": {
          "ArgHasMetadata": {
            "arg_type": "Input",
            "index": 0,
            "metadata_key": "comment"
          }
        }
      },
      {
        "Restriction": "None"
      },
      {
        "Op": "NotL"
      },
      {
        "Op": "Or"
      },
      {
        "Op": "And"
      },
      {
        "Restriction": {
          "ArgHasRole": {
            "arg_type": "Input",
            "index": 1,
            "role_key": "owner"
          }
        }
      },
      {
        "Op": "And"
      },
      {
        "Restriction": {
          "FixedArgMetadataValue": {
            "arg_type": "Input",
            "index": 1,
            "metadata_key": "subtype",
            "metadata_value": {
              "Literal": "demand_b"
            }
          }
        }
      },
      {
        "Restriction": {
          "FixedArgMetadataValue": {
            "arg_type": "Input",
            "index": 1,
            "metadata_key": "subtype",
            "metadata_value": {
              "Literal": "demand_a"
            }
          }
        }
      },
      {
        "Op": "Or"
      },
      {
        "Op": "And"
      },
      {
        "Restriction": {
          "FixedArgMetadataValue": {
            "arg_type": "Input",
            "index": 1,
            "metadata_key": "state",
            "metadata_value": {
              "Literal": "cancelled"
            }
          }
        }
      },
      {
        "Restriction": {
          "FixedArgMetadataValue": {
            "arg_type": "Input",
            "index": 1,
            "metadata_key": "state",
            "metadata_value": {
              "Literal": "allocated"
            }
          }
        }
      },
      {
        "Restriction": {
          "FixedArgMetadataValue": {
            "arg_type": "Input",
            "index": 1,
            "metadata_key": "state",
            "metadata_value": {
              "Literal": "created"
            }
          }
        }
      },
      {
        "Op": "Or"
      },
      {
        "Op": "Or"
      },
      {
        "Op": "And"
      },
      {
        "Restriction": {
          "ArgHasMetadata": {
            "arg_type": "Input",
            "index": 1,
            "metadata_key": "parameters"
          }
        }
      },
      {
        "Restriction": "None"
      },
      {
        "Op": "NotL"
      },
      {
        "Restriction": {
          "FixedArgMetadataValueType": {
            "arg_type": "Input",
            "index": 1,
            "metadata_key": "parameters",
            "metadata_value_type": "File"
          }
        }
      },
      {
        "Op": "Or"
      },
      {
        "Op": "And"
      },
      {
        "Restriction": {
          "FixedArgMetadataValueType": {
            "arg_type": "Input",
            "index": 1,
            "metadata_key": "comment",
            "metadata_value_type": "File"
          }
        }
      },
      {
        "Restriction": {
          "ArgHasMetadata": {
            "arg_type": "Input",
            "index": 1,
            "metadata_key": "comment"
          }
        }
      },
      {
        "Restriction": "None"
      },
      {
        "Op": "NotL"
      },
      {
        "Op": "Or"
      },
      {
        "Op": "And"
      },
      {
        "Restriction": {
          "ArgHasRole": {
            "arg_type": "Input",
            "index": 2,
            "role_key": "optimiser"
          }
        }
      },
      {
        "Op": "And"
      },
      {
        "Restriction": {
          "ArgHasRole": {
            "arg_type": "Input",
            "index": 2,
            "role_key": "member_a"
          }
        }
      },
      {
        "Op": "And"
      },
      {
        "Restriction": {
          "FixedArgMetadataValueType": {
            "arg_type": "Input",
            "index": 2,
            "metadata_key": "demand_a",
            "metadata_value_type": "TokenId"
          }
        }
      },
      {
        "Op": "And"
      },
      {
        "Restriction": {
          "ArgHasRole": {
            "arg_type": "Input",
            "index": 2,
            "role_key": "member_b"
          }
        }
      },
      {
        "Op": "And"
      },
      {
        "Restriction": {
          "FixedArgMetadataValueType": {
            "arg_type": "Input",
            "index": 2,
            "metadata_key": "demand_b",
            "metadata_value_type": "TokenId"
          }
        }
      },
      {
        "Op": "And"
      },
      {
        "Restriction": {
          "FixedArgMetadataValue": {
            "arg_type": "Input",
            "index": 2,
            "metadata_key": "state",
            "metadata_value": {
              "Literal": "cancelled"
            }
          }
        }
      },
      {
        "Restriction": {
          "FixedArgMetadataValue": {
            "arg_type": "Input",
            "index": 2,
            "metadata_key": "state",
            "metadata_value": {
              "Literal": "acceptedFinal"
            }
          }
        }
      },
      {
        "Restriction": {
          "FixedArgMetadataValue": {
            "arg_type": "Input",
            "index": 2,
            "metadata_key": "state",
            "metadata_value": {
              "Literal": "acceptedB"
            }
          }
        }
      },
      {
        "Restriction": {
          "FixedArgMetadataValue": {
            "arg_type": "Input",
            "index": 2,
            "metadata_key": "state",
            "metadata_value": {
              "Literal": "acceptedA"
            }
          }
        }
      },
      {
        "Restriction": {
          "FixedArgMetadataValue": {
            "arg_type": "Input",
            "index": 2,
            "metadata_key": "state",
            "metadata_value": {
              "Literal": "proposed"
            }
          }
        }
      },
      {
        "Op": "Or"
      },
      {
        "Op": "Or"
      },
      {
        "Op": "Or"
      },
      {
        "Op": "Or"
      },
      {
        "Op": "And"
      },
      {
        "Restriction": {
          "ArgHasMetadata": {
            "arg_type": "Input",
            "index": 2,
            "metadata_key": "replaces"
          }
        }
      },
      {
        "Restriction": "None"
      },
      {
        "Op": "NotL"
      },
      {
        "Restriction": {
          "FixedArgMetadataValueType": {
            "arg_type": "Input",
            "index": 2,
            "metadata_key": "replaces",
            "metadata_value_type": "TokenId"
          }
        }
      },
      {
        "Op": "Or"
      },
      {
        "Op": "And"
      },
      {
        "Restriction": {
          "FixedArgMetadataValueType": {
            "arg_type": "Input",
            "index": 2,
            "metadata_key": "comment",
            "metadata_value_type": "File"
          }
        }
      },
      {
        "Restriction": {
          "ArgHasMetadata": {
            "arg_type": "Input",
            "index": 2,
            "metadata_key": "comment"
          }
        }
      },
      {
        "Restriction": "None"
      },
      {
        "Op": "NotL"
      },
      {
        "Op": "Or"
      },
      {
        "Op": "And"
      },
      {
        "Restriction": {
          "ArgHasRole": {
            "arg_type": "Output",
            "index": 0,
            "role_key": "owner"
          }
        }
      },
      {
        "Op": "And"
      },
      {
        "Restriction": {
          "FixedArgMetadataValue": {
            "arg_type": "Output",
            "index": 0,
            "metadata_key": "subtype",
            "metadata_value": {
              "Literal": "demand_b"
            }
          }
        }
      },
      {
        "Restriction": {
          "FixedArgMetadataValue": {
            "arg_type": "Output",
            "index": 0,
            "metadata_key": "subtype",
            "metadata_value": {
              "Literal": "demand_a"
            }
          }
        }
      },
      {
        "Op": "Or"
      },
      {
        "Op": "And"
      },
      {
        "Restriction": {
          "FixedArgMetadataValue": {
            "arg_type": "Output",
            "index": 0,
            "metadata_key": "state",
            "metadata_value": {
              "Literal": "cancelled"
            }
          }
        }
      },
      {
        "Restriction": {
          "FixedArgMetadataValue": {
            "arg_type": "Output",
            "index": 0,
            "metadata_key": "state",
            "metadata_value": {
              "Literal": "allocated"
            }
          }
        }
      },
      {
        "Restriction": {
          "FixedArgMetadataValue": {
            "arg_type": "Output",
            "index": 0,
            "metadata_key": "state",
            "metadata_value": {
              "Literal": "created"
            }
          }
        }
      },
      {
        "Op": "Or"
      },
      {
        "Op": "Or"
      },
      {
        "Op": "And"
      },
      {
        "Restriction": {
          "ArgHasMetadata": {
            "arg_type": "Output",
            "index": 0,
            "metadata_key": "parameters"
          }
        }
      },
      {
        "Restriction": "None"
      },
      {
        "Op": "NotL"
      },
      {
        "Restriction": {
          "FixedArgMetadataValueType": {
            "arg_type": "Output",
            "index": 0,
            "metadata_key": "parameters",
            "metadata_value_type": "File"
          }
        }
      },
      {
        "Op": "Or"
      },
      {
        "Op": "And"
      },
      {
        "Restriction": {
          "FixedArgMetadataValueType": {
            "arg_type": "Output",
            "index": 0,
            "metadata_key": "comment",
            "metadata_value_type": "File"
          }
        }
      },
      {
        "Restriction": {
          "ArgHasMetadata": {
            "arg_type": "Output",
            "index": 0,
            "metadata_key": "comment"
          }
        }
      },
      {
        "Restriction": "None"
      },
      {
        "Op": "NotL"
      },
      {
        "Op": "Or"
      },
      {
        "Op": "And"
      },
      {
        "Restriction": {
          "ArgHasRole": {
            "arg_type": "Output",
            "index": 1,
            "role_key": "owner"
          }
        }
      },
      {
        "Op": "And"
      },
      {
        "Restriction": {
          "FixedArgMetadataValue": {
            "arg_type": "Output",
            "index": 1,
            "metadata_key": "subtype",
            "metadata_value": {
              "Literal": "demand_b"
            }
          }
        }
      },
      {
        "Restriction": {
          "FixedArgMetadataValue": {
            "arg_type": "Output",
            "index": 1,
            "metadata_key": "subtype",
            "metadata_value": {
              "Literal": "demand_a"
            }
          }
        }
      },
      {
        "Op": "Or"
      },
      {
        "Op": "And"
      },
      {
        "Restriction": {
          "FixedArgMetadataValue": {
            "arg_type": "Output",
            "index": 1,
            "metadata_key": "state",
            "metadata_value": {
              "Literal": "cancelled"
            }
          }
        }
      },
      {
        "Restriction": {
          "FixedArgMetadataValue": {
            "arg_type": "Output",
            "index": 1,
            "metadata_key": "state",
            "metadata_value": {
              "Literal": "allocated"
            }
          }
        }
      },
      {
        "Restriction": {
          "FixedArgMetadataValue": {
            "arg_type": "Output",
            "index": 1,
            "metadata_key": "state",
            "metadata_value": {
              "Literal": "created"
            }
          }
        }
      },
      {
        "Op": "Or"
      },
      {
        "Op": "Or"
      },
      {
        "Op": "And"
      },
      {
        "Restriction": {
          "ArgHasMetadata": {
            "arg_type": "Output",
            "index": 1,
            "metadata_key": "parameters"
          }
        }
      },
      {
        "Restriction": "None"
      },
      {
        "Op": "NotL"
      },
      {
        "Restriction": {
          "FixedArgMetadataValueType": {
            "arg_type": "Output",
            "index": 1,
            "metadata_key": "parameters",
            "metadata_value_type": "File"
          }
        }
      },
      {
        "Op": "Or"
      },
      {
        "Op": "And"
      },
      {
        "Restriction": {
          "FixedArgMetadataValueType": {
            "arg_type": "Output",
            "index": 1,
            "metadata_key": "comment",
            "metadata_value_type": "File"
          }
        }
      },
      {
        "Restriction": {
          "ArgHasMetadata": {
            "arg_type": "Output",
            "index": 1,
            "metadata_key": "comment"
          }
        }
      },
      {
        "Restriction": "None"
      },
      {
        "Op": "NotL"
      },
      {
        "Op": "Or"
      },
      {
        "Op": "And"
      },
      {
        "Restriction": {
          "ArgHasRole": {
            "arg_type": "Output",
            "index": 2,
            "role_key": "optimiser"
          }
        }
      },
      {
        "Op": "And"
      },
      {
        "Restriction": {
          "ArgHasRole": {
            "arg_type": "Output",
            "index": 2,
            "role_key": "member_a"
          }
        }
      },
      {
        "Op": "And"
      },
      {
        "Restriction": {
          "FixedArgMetadataValueType": {
            "arg_type": "Output",
            "index": 2,
            "metadata_key": "demand_a",
            "metadata_value_type": "TokenId"
          }
        }
      },
      {
        "Op": "And"
      },
      {
        "Restriction": {
          "ArgHasRole": {
            "arg_type": "Output",
            "index": 2,
            "role_key": "member_b"
          }
        }
      },
      {
        "Op": "And"
      },
      {
        "Restriction": {
          "FixedArgMetadataValueType": {
            "arg_type": "Output",
            "index": 2,
            "metadata_key": "demand_b",
            "metadata_value_type": "TokenId"
          }
        }
      },
      {
        "Op": "And"
      },
      {
        "Restriction": {
          "FixedArgMetadataValue": {
            "arg_type": "Output",
            "index": 2,
            "metadata_key": "state",
            "metadata_value": {
              "Literal": "cancelled"
            }
          }
        }
      },
      {
        "Restriction": {
          "FixedArgMetadataValue": {
            "arg_type": "Output",
            "index": 2,
            "metadata_key": "state",
            "metadata_value": {
              "Literal": "acceptedFinal"
            }
          }
        }
      },
      {
        "Restriction": {
          "FixedArgMetadataValue": {
            "arg_type": "Output",
            "index": 2,
            "metadata_key": "state",
            "metadata_value": {
              "Literal": "acceptedB"
            }
          }
        }
      },
      {
        "Restriction": {
          "FixedArgMetadataValue": {
            "arg_type": "Output",
            "index": 2,
            "metadata_key": "state",
            "metadata_value": {
              "Literal": "acceptedA"
            }
          }
        }
      },
      {
        "Restriction": {
          "FixedArgMetadataValue": {
            "arg_type": "Output",
            "index": 2,
            "metadata_key": "state",
            "metadata_value": {
              "Literal": "proposed"
            }
          }
        }
      },
      {
        "Op": "Or"
      },
      {
        "Op": "Or"
      },
      {
        "Op": "Or"
      },
      {
        "Op": "Or"
      },
      {
        "Op": "And"
      },
      {
        "Restriction": {
          "ArgHasMetadata": {
            "arg_type": "Output",
            "index": 2,
            "metadata_key": "replaces"
          }
        }
      },
      {
        "Restriction": "None"
      },
      {
        "Op": "NotL"
      },
      {
        "Restriction": {
          "FixedArgMetadataValueType": {
            "arg_type": "Output",
            "index": 2,
            "metadata_key": "replaces",
            "metadata_value_type": "TokenId"
          }
        }
      },
      {
        "Op": "Or"
      },
      {
        "Op": "And"
      },
      {
        "Restriction": {
          "FixedArgMetadataValueType": {
            "arg_type": "Output",
            "index": 2,
            "metadata_key": "comment",
            "metadata_value_type": "File"
          }
        }
      },
      {
        "Restriction": {
          "ArgHasMetadata": {
            "arg_type": "Output",
            "index": 2,
            "metadata_key": "comment"
          }
        }
      },
      {
        "Restriction": "None"
      },
      {
        "Op": "NotL"
      },
      {
        "Op": "Or"
      },
      {
        "Op": "And"
      },
      {
        "Restriction": {
          "MatchArgsMetadataValue": {
            "left_arg_type": "Input",
            "left_index": 0,
            "left_metadata_key": "@original_id",
            "right_arg_type": "Output",
            "right_index": 0,
            "right_metadata_key": "@original_id"
          }
        }
      },
      {
        "Restriction": {
          "ArgHasMetadata": {
            "arg_type": "Input",
            "index": 0,
            "metadata_key": "@original_id"
          }
        }
      },
      {
        "Restriction": {
          "MatchArgIdToMetadataValue": {
            "left_arg_type": "Input",
            "left_index": 0,
            "right_arg_type": "Output",
            "right_index": 0,
            "right_metadata_key": "@original_id"
          }
        }
      },
      {
        "Op": "InhibitionR"
      },
      {
        "Op": "Xor"
      },
      {
        "Op": "And"
      },
      {
        "Restriction": {
          "MatchArgsRole": {
            "left_arg_type": "Input",
            "left_index": 0,
            "left_role_key": "owner",
            "right_arg_type": "Output",
            "right_index": 0,
            "right_role_key": "owner"
          }
        }
      },
      {
        "Op": "And"
      },
      {
        "Restriction": {
          "MatchArgsMetadataValue": {
            "left_arg_type": "Input",
            "left_index": 0,
            "left_metadata_key": "subtype",
            "right_arg_type": "Output",
            "right_index": 0,
            "right_metadata_key": "subtype"
          }
        }
      },
      {
        "Op": "And"
      },
      {
        "Restriction": {
          "ArgHasMetadata": {
            "arg_type": "Output",
            "index": 0,
            "metadata_key": "parameters"
          }
        }
      },
      {
        "Restriction": "None"
      },
      {
        "Op": "NotL"
      },
      {
        "Op": "And"
      },
      {
        "Restriction": {
          "FixedArgMetadataValue": {
            "arg_type": "Input",
            "index": 0,
            "metadata_key": "subtype",
            "metadata_value": {
              "Literal": "demand_a"
            }
          }
        }
      },
      {
        "Op": "And"
      },
      {
        "Restriction": {
          "FixedArgMetadataValue": {
            "arg_type": "Input",
            "index": 0,
            "metadata_key": "state",
            "metadata_value": {
              "Literal": "created"
            }
          }
        }
      },
      {
        "Op": "And"
      },
      {
        "Restriction": {
          "FixedArgMetadataValue": {
            "arg_type": "Output",
            "index": 0,
            "metadata_key": "state",
            "metadata_value": {
              "Literal": "allocated"
            }
          }
        }
      },
      {
        "Op": "And"
      },
      {
        "Restriction": {
          "MatchArgsMetadataValue": {
            "left_arg_type": "Input",
            "left_index": 1,
            "left_metadata_key": "@original_id",
            "right_arg_type": "Output",
            "right_index": 1,
            "right_metadata_key": "@original_id"
          }
        }
      },
      {
        "Restriction": {
          "ArgHasMetadata": {
            "arg_type": "Input",
            "index": 1,
            "metadata_key": "@original_id"
          }
        }
      },
      {
        "Restriction": {
          "MatchArgIdToMetadataValue": {
            "left_arg_type": "Input",
            "left_index": 1,
            "right_arg_type": "Output",
            "right_index": 1,
            "right_metadata_key": "@original_id"
          }
        }
      },
      {
        "Op": "InhibitionR"
      },
      {
        "Op": "Xor"
      },
      {
        "Op": "And"
      },
      {
        "Restriction": {
          "MatchArgsRole": {
            "left_arg_type": "Input",
            "left_index": 1,
            "left_role_key": "owner",
            "right_arg_type": "Output",
            "right_index": 1,
            "right_role_key": "owner"
          }
        }
      },
      {
        "Op": "And"
      },
      {
        "Restriction": {
          "MatchArgsMetadataValue": {
            "left_arg_type": "Input",
            "left_index": 1,
            "left_metadata_key": "subtype",
            "right_arg_type": "Output",
            "right_index": 1,
            "right_metadata_key": "subtype"
          }
        }
      },
      {
        "Op": "And"
      },
      {
        "Restriction": {
          "ArgHasMetadata": {
            "arg_type": "Output",
            "index": 1,
            "metadata_key": "parameters"
          }
        }
      },
      {
        "Restriction": "None"
      },
      {
        "Op": "NotL"
      },
      {
        "Op": "And"
      },
      {
        "Restriction": {
          "FixedArgMetadataValue": {
            "arg_type": "Input",
            "index": 1,
            "metadata_key": "subtype",
            "metadata_value": {
              "Literal": "demand_b"
            }
          }
        }
      },
      {
        "Op": "And"
      },
      {
        "Restriction": {
          "FixedArgMetadataValue": {
            "arg_type": "Input",
            "index": 1,
            "metadata_key": "state",
            "metadata_value": {
              "Literal": "created"
            }
          }
        }
      },
      {
        "Op": "And"
      },
      {
        "Restriction": {
          "FixedArgMetadataValue": {
            "arg_type": "Output",
            "index": 1,
            "metadata_key": "state",
            "metadata_value": {
              "Literal": "allocated"
            }
          }
        }
      },
      {
        "Op": "And"
      },
      {
        "Restriction": {
          "MatchArgsMetadataValue": {
            "left_arg_type": "Input",
            "left_index": 2,
            "left_metadata_key": "@original_id",
            "right_arg_type": "Output",
            "right_index": 2,
            "right_metadata_key": "@original_id"
          }
        }
      },
      {
        "Restriction": {
          "ArgHasMetadata": {
            "arg_type": "Input",
            "index": 2,
            "metadata_key": "@original_id"
          }
        }
      },
      {
        "Restriction": {
          "MatchArgIdToMetadataValue": {
            "left_arg_type": "Input",
            "left_index": 2,
            "right_arg_type": "Output",
            "right_index": 2,
            "right_metadata_key": "@original_id"
          }
        }
      },
      {
        "Op": "InhibitionR"
      },
      {
        "Op": "Xor"
      },
      {
        "Op": "And"
      },
      {
        "Restriction": {
          "MatchArgsRole": {
            "left_arg_type": "Input",
            "left_index": 2,
            "left_role_key": "optimiser",
            "right_arg_type": "Output",
            "right_index": 2,
            "right_role_key": "optimiser"
          }
        }
      },
      {
        "Op": "And"
      },
      {
        "Restriction": {
          "MatchArgsRole": {
            "left_arg_type": "Input",
            "left_index": 2,
            "left_role_key": "member_a",
            "right_arg_type": "Output",
            "right_index": 2,
            "right_role_key": "member_a"
          }
        }
      },
      {
        "Op": "And"
      },
      {
        "Restriction": {
          "MatchArgsMetadataValue": {
            "left_arg_type": "Input",
            "left_index": 2,
            "left_metadata_key": "demand_a",
            "right_arg_type": "Output",
            "right_index": 2,
            "right_metadata_key": "demand_a"
          }
        }
      },
      {
        "Op": "And"
      },
      {
        "Restriction": {
          "MatchArgsRole": {
            "left_arg_type": "Input",
            "left_index": 2,
            "left_role_key": "member_b",
            "right_arg_type": "Output",
            "right_index": 2,
            "right_role_key": "member_b"
          }
        }
      },
      {
        "Op": "And"
      },
      {
        "Restriction": {
          "MatchArgsMetadataValue": {
            "left_arg_type": "Input",
            "left_index": 2,
            "left_metadata_key": "demand_b",
            "right_arg_type": "Output",
            "right_index": 2,
            "right_metadata_key": "demand_b"
          }
        }
      },
      {
        "Op": "And"
      },
      {
        "Restriction": {
          "ArgHasMetadata": {
            "arg_type": "Input",
            "index": 2,
            "metadata_key": "replaces"
          }
        }
      },
      {
        "Restriction": {
          "ArgHasMetadata": {
            "arg_type": "Output",
            "index": 2,
            "metadata_key": "replaces"
          }
        }
      },
      {
        "Op": "Xnor"
      },
      {
        "Restriction": {
          "ArgHasRole": {
            "arg_type": "Input",
            "index": 2,
            "role_key": "replaces"
          }
        }
      },
      {
        "Restriction": {
          "ArgHasRole": {
            "arg_type": "Output",
            "index": 2,
            "role_key": "replaces"
          }
        }
      },
      {
        "Op": "Xnor"
      },
      {
        "Op": "And"
      },
      {
        "Restriction": {
          "MatchArgsMetadataValue": {
            "left_arg_type": "Input",
            "left_index": 2,
            "left_metadata_key": "replaces",
            "right_arg_type": "Output",
            "right_index": 2,
            "right_metadata_key": "replaces"
          }
        }
      },
      {
        "Restriction": {
          "ArgHasMetadata": {
            "arg_type": "Output",
            "index": 2,
            "metadata_key": "replaces"
          }
        }
      },
      {
        "Op": "ImplicationR"
      },
      {
        "Op": "And"
      },
      {
        "Op": "And"
      },
      {
        "Restriction": {
          "MatchArgsMetadataValue": {
            "left_arg_type": "Input",
            "left_index": 0,
            "left_metadata_key": "@original_id",
            "right_arg_type": "Output",
            "right_index": 2,
            "right_metadata_key": "demand_a"
          }
        }
      },
      {
        "Restriction": {
          "ArgHasMetadata": {
            "arg_type": "Input",
            "index": 0,
            "metadata_key": "demand_a"
          }
        }
      },
      {
        "Restriction": {
          "MatchArgIdToMetadataValue": {
            "left_arg_type": "Input",
            "left_index": 0,
            "right_arg_type": "Output",
            "right_index": 2,
            "right_metadata_key": "demand_a"
          }
        }
      },
      {
        "Op": "InhibitionR"
      },
      {
        "Op": "Xor"
      },
      {
        "Op": "And"
      },
      {
        "Restriction": {
          "MatchArgsMetadataValue": {
            "left_arg_type": "Input",
            "left_index": 1,
            "left_metadata_key": "@original_id",
            "right_arg_type": "Output",
            "right_index": 2,
            "right_metadata_key": "demand_b"
          }
        }
      },
      {
        "Restriction": {
          "ArgHasMetadata": {
            "arg_type": "Input",
            "index": 1,
            "metadata_key": "demand_b"
          }
        }
      },
      {
        "Restriction": {
          "MatchArgIdToMetadataValue": {
            "left_arg_type": "Input",
            "left_index": 1,
            "right_arg_type": "Output",
            "right_index": 2,
            "right_metadata_key": "demand_b"
          }
        }
      },
      {
        "Op": "InhibitionR"
      },
      {
        "Op": "Xor"
      },
      {
        "Op": "And"
      },
      {
        "Restriction": {
          "FixedArgMetadataValue": {
            "arg_type": "Output",
            "index": 2,
            "metadata_key": "state",
            "metadata_value": {
              "Literal": "acceptedFinal"
            }
          }
        }
      },
      {
        "Op": "And"
      },
      {
        "Restriction": {
          "FixedArgMetadataValue": {
            "arg_type": "Input",
            "index": 2,
            "metadata_key": "state",
            "metadata_value": {
              "Literal": "acceptedA"
            }
          }
        }
      },
      {
        "Restriction": {
          "SenderHasArgRole": {
            "arg_type": "Output",
            "index": 2,
            "role_key": "member_b"
          }
        }
      },
      {
        "Op": "And"
      },
      {
        "Restriction": {
          "FixedArgMetadataValue": {
            "arg_type": "Input",
            "index": 2,
            "metadata_key": "state",
            "metadata_value": {
              "Literal": "acceptedB"
            }
          }
        }
      },
      {
        "Restriction": {
          "SenderHasArgRole": {
            "arg_type": "Output",
            "index": 2,
            "role_key": "member_a"
          }
        }
      },
      {
        "Op": "And"
      },
      {
        "Op": "Or"
      },
      {
        "Op": "And"
      },
      {
        "Restriction": {
          "ArgHasMetadata": {
            "arg_type": "Input",
            "index": 2,
            "metadata_key": "replaces"
          }
        }
      },
      {
        "Restriction": "None"
      },
      {
        "Op": "NotL"
      },
      {
        "Op": "And"
      },
      {
        "Restriction": {
          "ArgHasMetadata": {
            "arg_type": "Output",
            "index": 2,
            "metadata_key": "replaces"
          }
        }
      },
      {
        "Restriction": "None"
      },
      {
        "Op": "NotL"
      },
      {
        "Op": "And"
      }
    ],
    "version": 1
  },
  {
    "name": "demand_comment",
    "program": [
      {
        "Restriction": {
          "FixedArgCount": {
            "arg_type": "Reference",
            "count": 0
          }
        }
      },
      {
        "Restriction": {
          "FixedArgCount": {
            "arg_type": "Input",
            "count": 1
          }
        }
      },
      {
        "Op": "And"
      },
      {
        "Restriction": {
          "FixedArgCount": {
            "arg_type": "Output",
            "count": 1
          }
        }
      },
      {
        "Op": "And"
      },
      {
        "Restriction": {
          "FixedArgMetadataValue": {
            "arg_type": "Input",
            "index": 0,
            "metadata_key": "@type",
            "metadata_value": {
              "Literal": "Demand"
            }
          }
        }
      },
      {
        "Op": "And"
      },
      {
        "Restriction": {
          "FixedArgMetadataValue": {
            "arg_type": "Input",
            "index": 0,
            "metadata_key": "@version",
            "metadata_value": {
              "Literal": "1"
            }
          }
        }
      },
      {
        "Op": "And"
      },
      {
        "Restriction": {
          "FixedArgMetadataValue": {
            "arg_type": "Output",
            "index": 0,
            "metadata_key": "@type",
            "metadata_value": {
              "Literal": "Demand"
            }
          }
        }
      },
      {
        "Op": "And"
      },
      {
        "Restriction": {
          "FixedArgMetadataValue": {
            "arg_type": "Output",
            "index": 0,
            "metadata_key": "@version",
            "metadata_value": {
              "Literal": "1"
            }
          }
        }
      },
      {
        "Op": "And"
      },
      {
        "Restriction": {
          "ArgHasRole": {
            "arg_type": "Input",
            "index": 0,
            "role_key": "owner"
          }
        }
      },
      {
        "Op": "And"
      },
      {
        "Restriction": {
          "FixedArgMetadataValue": {
            "arg_type": "Input",
            "index": 0,
            "metadata_key": "subtype",
            "metadata_value": {
              "Literal": "demand_b"
            }
          }
        }
      },
      {
        "Restriction": {
          "FixedArgMetadataValue": {
            "arg_type": "Input",
            "index": 0,
            "metadata_key": "subtype",
            "metadata_value": {
              "Literal": "demand_a"
            }
          }
        }
      },
      {
        "Op": "Or"
      },
      {
        "Op": "And"
      },
      {
        "Restriction": {
          "FixedArgMetadataValue": {
            "arg_type": "Input",
            "index": 0,
            "metadata_key": "state",
            "metadata_value": {
              "Literal": "cancelled"
            }
          }
        }
      },
      {
        "Restriction": {
          "FixedArgMetadataValue": {
            "arg_type": "Input",
            "index": 0,
            "metadata_key": "state",
            "metadata_value": {
              "Literal": "allocated"
            }
          }
        }
      },
      {
        "Restriction": {
          "FixedArgMetadataValue": {
            "arg_type": "Input",
            "index": 0,
            "metadata_key": "state",
            "metadata_value": {
              "Literal": "created"
            }
          }
        }
      },
      {
        "Op": "Or"
      },
      {
        "Op": "Or"
      },
      {
        "Op": "And"
      },
      {
        "Restriction": {
          "ArgHasMetadata": {
            "arg_type": "Input",
            "index": 0,
            "metadata_key": "parameters"
          }
        }
      },
      {
        "Restriction": "None"
      },
      {
        "Op": "NotL"
      },
      {
        "Restriction": {
          "FixedArgMetadataValueType": {
            "arg_type": "Input",
            "index": 0,
            "metadata_key": "parameters",
            "metadata_value_type": "File"
          }
        }
      },
      {
        "Op": "Or"
      },
      {
        "Op": "And"
      },
      {
        "Restriction": {
          "FixedArgMetadataValueType": {
            "arg_type": "Input",
            "index": 0,
            "metadata_key": "comment",
            "metadata_value_type": "File"
          }
        }
      },
      {
        "Restriction": {
          "ArgHasMetadata": {
            "arg_type": "Input",
            "index": 0,
            "metadata_key": "comment"
          }
        }
      },
      {
        "Restriction": "None"
      },
      {
        "Op": "NotL"
      },
      {
        "Op": "Or"
      },
      {
        "Op": "And"
      },
      {
        "Restriction": {
          "ArgHasRole": {
            "arg_type": "Output",
            "index": 0,
            "role_key": "owner"
          }
        }
      },
      {
        "Op": "And"
      },
      {
        "Restriction": {
          "FixedArgMetadataValue": {
            "arg_type": "Output",
            "index": 0,
            "metadata_key": "subtype",
            "metadata_value": {
              "Literal": "demand_b"
            }
          }
        }
      },
      {
        "Restriction": {
          "FixedArgMetadataValue": {
            "arg_type": "Output",
            "index": 0,
            "metadata_key": "subtype",
            "metadata_value": {
              "Literal": "demand_a"
            }
          }
        }
      },
      {
        "Op": "Or"
      },
      {
        "Op": "And"
      },
      {
        "Restriction": {
          "FixedArgMetadataValue": {
            "arg_type": "Output",
            "index": 0,
            "metadata_key": "state",
            "metadata_value": {
              "Literal": "cancelled"
            }
          }
        }
      },
      {
        "Restriction": {
          "FixedArgMetadataValue": {
            "arg_type": "Output",
            "index": 0,
            "metadata_key": "state",
            "metadata_value": {
              "Literal": "allocated"
            }
          }
        }
      },
      {
        "Restriction": {
          "FixedArgMetadataValue": {
            "arg_type": "Output",
            "index": 0,
            "metadata_key": "state",
            "metadata_value": {
              "Literal": "created"
            }
          }
        }
      },
      {
        "Op": "Or"
      },
      {
        "Op": "Or"
      },
      {
        "Op": "And"
      },
      {
        "Restriction": {
          "ArgHasMetadata": {
            "arg_type": "Output",
            "index": 0,
            "metadata_key": "parameters"
          }
        }
      },
      {
        "Restriction": "None"
      },
      {
        "Op": "NotL"
      },
      {
        "Restriction": {
          "FixedArgMetadataValueType": {
            "arg_type": "Output",
            "index": 0,
            "metadata_key": "parameters",
            "metadata_value_type": "File"
          }
        }
      },
      {
        "Op": "Or"
      },
      {
        "Op": "And"
      },
      {
        "Restriction": {
          "FixedArgMetadataValueType": {
            "arg_type": "Output",
            "index": 0,
            "metadata_key": "comment",
            "metadata_value_type": "File"
          }
        }
      },
      {
        "Restriction": {
          "ArgHasMetadata": {
            "arg_type": "Output",
            "index": 0,
            "metadata_key": "comment"
          }
        }
      },
      {
        "Restriction": "None"
      },
      {
        "Op": "NotL"
      },
      {
        "Op": "Or"
      },
      {
        "Op": "And"
      },
      {
        "Restriction": {
          "MatchArgsMetadataValue": {
            "left_arg_type": "Input",
            "left_index": 0,
            "left_metadata_key": "@original_id",
            "right_arg_type": "Output",
            "right_index": 0,
            "right_metadata_key": "@original_id"
          }
        }
      },
      {
        "Restriction": {
          "ArgHasMetadata": {
            "arg_type": "Input",
            "index": 0,
            "metadata_key": "@original_id"
          }
        }
      },
      {
        "Restriction": {
          "MatchArgIdToMetadataValue": {
            "left_arg_type": "Input",
            "left_index": 0,
            "right_arg_type": "Output",
            "right_index": 0,
            "right_metadata_key": "@original_id"
          }
        }
      },
      {
        "Op": "InhibitionR"
      },
      {
        "Op": "Xor"
      },
      {
        "Op": "And"
      },
      {
        "Restriction": {
          "MatchArgsRole": {
            "left_arg_type": "Input",
            "left_index": 0,
            "left_role_key": "owner",
            "right_arg_type": "Output",
            "right_index": 0,
            "right_role_key": "owner"
          }
        }
      },
      {
        "Op": "And"
      },
      {
        "Restriction": {
          "MatchArgsMetadataValue": {
            "left_arg_type": "Input",
            "left_index": 0,
            "left_metadata_key": "subtype",
            "right_arg_type": "Output",
            "right_index": 0,
            "right_metadata_key": "subtype"
          }
        }
      },
      {
        "Op": "And"
      },
      {
        "Restriction": {
          "ArgHasMetadata": {
            "arg_type": "Output",
            "index": 0,
            "metadata_key": "parameters"
          }
        }
      },
      {
        "Restriction": "None"
      },
      {
        "Op": "NotL"
      },
      {
        "Op": "And"
      },
      {
        "Restriction": {
          "MatchArgsMetadataValue": {
            "left_arg_type": "Input",
            "left_index": 0,
            "left_metadata_key": "state",
            "right_arg_type": "Output",
            "right_index": 0,
            "right_metadata_key": "state"
          }
        }
      },
      {
        "Op": "And"
      },
      {
        "Restriction": {
          "FixedArgMetadataValueType": {
            "arg_type": "Output",
            "index": 0,
            "metadata_key": "comment",
            "metadata_value_type": "File"
          }
        }
      },
      {
        "Op": "And"
      }
    ],
    "version": 1
  },
  {
    "name": "match2_reject",
    "program": [
      {
        "Restriction": {
          "FixedArgCount": {
            "arg_type": "Reference",
            "count": 0
          }
        }
      },
      {
        "Restriction": {
          "FixedArgCount": {
            "arg_type": "Input",
            "count": 1
          }
        }
      },
      {
        "Op": "And"
      },
      {
        "Restriction": {
          "FixedArgCount": {
            "arg_type": "Output",
            "count": 0
          }
        }
      },
      {
        "Op": "And"
      },
      {
        "Restriction": {
          "FixedArgMetadataValue": {
            "arg_type": "Input",
            "index": 0,
            "metadata_key": "@type",
            "metadata_value": {
              "Literal": "Match2"
            }
          }
        }
      },
      {
        "Op": "And"
      },
      {
        "Restriction": {
          "FixedArgMetadataValue": {
            "arg_type": "Input",
            "index": 0,
            "metadata_key": "@version",
            "metadata_value": {
              "Literal": "1"
            }
          }
        }
      },
      {
        "Op": "And"
      },
      {
        "Restriction": {
          "ArgHasRole": {
            "arg_type": "Input",
            "index": 0,
            "role_key": "optimiser"
          }
        }
      },
      {
        "Op": "And"
      },
      {
        "Restriction": {
          "ArgHasRole": {
            "arg_type": "Input",
            "index": 0,
            "role_key": "member_a"
          }
        }
      },
      {
        "Op": "And"
      },
      {
        "Restriction": {
          "FixedArgMetadataValueType": {
            "arg_type": "Input",
            "index": 0,
            "metadata_key": "demand_a",
            "metadata_value_type": "TokenId"
          }
        }
      },
      {
        "Op": "And"
      },
      {
        "Restriction": {
          "ArgHasRole": {
            "arg_type": "Input",
            "index": 0,
            "role_key": "member_b"
          }
        }
      },
      {
        "Op": "And"
      },
      {
        "Restriction": {
          "FixedArgMetadataValueType": {
            "arg_type": "Input",
            "index": 0,
            "metadata_key": "demand_b",
            "metadata_value_type": "TokenId"
          }
        }
      },
      {
        "Op": "And"
      },
      {
        "Restriction": {
          "FixedArgMetadataValue": {
            "arg_type": "Input",
            "index": 0,
            "metadata_key": "state",
            "metadata_value": {
              "Literal": "cancelled"
            }
          }
        }
      },
      {
        "Restriction": {
          "FixedArgMetadataValue": {
            "arg_type": "Input",
            "index": 0,
            "metadata_key": "state",
            "metadata_value": {
              "Literal": "acceptedFinal"
            }
          }
        }
      },
      {
        "Restriction": {
          "FixedArgMetadataValue": {
            "arg_type": "Input",
            "index": 0,
            "metadata_key": "state",
            "metadata_value": {
              "Literal": "acceptedB"
            }
          }
        }
      },
      {
        "Restriction": {
          "FixedArgMetadataValue": {
            "arg_type": "Input",
            "index": 0,
            "metadata_key": "state",
            "metadata_value": {
              "Literal": "acceptedA"
            }
          }
        }
      },
      {
        "Restriction": {
          "FixedArgMetadataValue": {
            "arg_type": "Input",
            "index": 0,
            "metadata_key": "state",
            "metadata_value": {
              "Literal": "proposed"
            }
          }
        }
      },
      {
        "Op": "Or"
      },
      {
        "Op": "Or"
      },
      {
        "Op": "Or"
      },
      {
        "Op": "Or"
      },
      {
        "Op": "And"
      },
      {
        "Restriction": {
          "ArgHasMetadata": {
            "arg_type": "Input",
            "index": 0,
            "metadata_key": "replaces"
          }
        }
      },
      {
        "Restriction": "None"
      },
      {
        "Op": "NotL"
      },
      {
        "Restriction": {
          "FixedArgMetadataValueType": {
            "arg_type": "Input",
            "index": 0,
            "metadata_key": "replaces",
            "metadata_value_type": "TokenId"
          }
        }
      },
      {
        "Op": "Or"
      },
      {
        "Op": "And"
      },
      {
        "Restriction": {
          "FixedArgMetadataValueType": {
            "arg_type": "Input",
            "index": 0,
            "metadata_key": "comment",
            "metadata_value_type": "File"
          }
        }
      },
      {
        "Restriction": {
          "ArgHasMetadata": {
            "arg_type": "Input",
            "index": 0,
            "metadata_key": "comment"
          }
        }
      },
      {
        "Restriction": "None"
      },
      {
        "Op": "NotL"
      },
      {
        "Op": "Or"
      },
      {
        "Op": "And"
      },
      {
        "Restriction": {
          "FixedArgMetadataValue": {
            "arg_type": "Input",
            "index": 0,
            "metadata_key": "state",
            "metadata_value": {
              "Literal": "proposed"
            }
          }
        }
      },
      {
        "Restriction": {
          "FixedArgMetadataValue": {
            "arg_type": "Input",
            "index": 0,
            "metadata_key": "state",
            "metadata_value": {
              "Literal": "acceptedA"
            }
          }
        }
      },
      {
        "Restriction": {
          "FixedArgMetadataValue": {
            "arg_type": "Input",
            "index": 0,
            "metadata_key": "state",
            "metadata_value": {
              "Literal": "acceptedB"
            }
          }
        }
      },
      {
        "Op": "Or"
      },
      {
        "Op": "Or"
      },
      {
        "Op": "And"
      },
      {
        "Restriction": {
          "SenderHasArgRole": {
            "arg_type": "Input",
            "index": 0,
            "role_key": "optimiser"
          }
        }
      },
      {
        "Restriction": {
          "SenderHasArgRole": {
            "arg_type": "Input",
            "index": 0,
            "role_key": "member_a"
          }
        }
      },
      {
        "Restriction": {
          "SenderHasArgRole": {
            "arg_type": "Input",
            "index": 0,
            "role_key": "member_b"
          }
        }
      },
      {
        "Op": "Or"
      },
      {
        "Op": "Or"
      },
      {
        "Op": "And"
      }
    ],
    "version": 1
  },
  {
    "name": "match2_cancel",
    "program": [
      {
        "Restriction": {
          "FixedArgCount": {
            "arg_type": "Reference",
            "count": 0
          }
        }
      },
      {
        "Restriction": {
          "FixedArgCount": {
            "arg_type": "Input",
            "count": 3
          }
        }
      },
      {
        "Op": "And"
      },
      {
        "Restriction": {
          "FixedArgCount": {
            "arg_type": "Output",
            "count": 3
          }
        }
      },
      {
        "Op": "And"
      },
      {
        "Restriction": {
          "FixedArgMetadataValue": {
            "arg_type": "Input",
            "index": 0,
            "metadata_key": "@type",
            "metadata_value": {
              "Literal": "Demand"
            }
          }
        }
      },
      {
        "Op": "And"
      },
      {
        "Restriction": {
          "FixedArgMetadataValue": {
            "arg_type": "Input",
            "index": 0,
            "metadata_key": "@version",
            "metadata_value": {
              "Literal": "1"
            }
          }
        }
      },
      {
        "Op": "And"
      },
      {
        "Restriction": {
          "FixedArgMetadataValue": {
            "arg_type": "Input",
            "index": 1,
            "metadata_key": "@type",
            "metadata_value": {
              "Literal": "Demand"
            }
          }
        }
      },
      {
        "Op": "And"
      },
      {
        "Restriction": {
          "FixedArgMetadataValue": {
            "arg_type": "Input",
            "index": 1,
            "metadata_key": "@version",
            "metadata_value": {
              "Literal": "1"
            }
          }
        }
      },
      {
        "Op": "And"
      },
      {
        "Restriction": {
          "FixedArgMetadataValue": {
            "arg_type": "Input",
            "index": 2,
            "metadata_key": "@type",
            "metadata_value": {
              "Literal": "Match2"
            }
          }
        }
      },
      {
        "Op": "And"
      },
      {
        "Restriction": {
          "FixedArgMetadataValue": {
            "arg_type": "Input",
            "index": 2,
            "metadata_key": "@version",
            "metadata_value": {
              "Literal": "1"
            }
          }
        }
      },
      {
        "Op": "And"
      },
      {
        "Restriction": {
          "FixedArgMetadataValue": {
            "arg_type": "Output",
            "index": 0,
            "metadata_key": "@type",
            "metadata_value": {
              "Literal": "Demand"
            }
          }
        }
      },
      {
        "Op": "And"
      },
      {
        "Restriction": {
          "FixedArgMetadataValue": {
            "arg_type": "Output",
            "index": 0,
            "metadata_key": "@version",
            "metadata_value": {
              "Literal": "1"
            }
          }
        }
      },
      {
        "Op": "And"
      },
      {
        "Restriction": {
          "FixedArgMetadataValue": {
            "arg_type": "Output",
            "index": 1,
            "metadata_key": "@type",
            "metadata_value": {
              "Literal": "Demand"
            }
          }
        }
      },
      {
        "Op": "And"
      },
      {
        "Restriction": {
          "FixedArgMetadataValue": {
            "arg_type": "Output",
            "index": 1,
            "metadata_key": "@version",
            "metadata_value": {
              "Literal": "1"
            }
          }
        }
      },
      {
        "Op": "And"
      },
      {
        "Restriction": {
          "FixedArgMetadataValue": {
            "arg_type": "Output",
            "index": 2,
            "metadata_key": "@type",
            "metadata_value": {
              "Literal": "Match2"
            }
          }
        }
      },
      {
        "Op": "And"
      },
      {
        "Restriction": {
          "FixedArgMetadataValue": {
            "arg_type": "Output",
            "index": 2,
            "metadata_key": "@version",
            "metadata_value": {
              "Literal": "1"
            }
          }
        }
      },
      {
        "Op": "And"
      },
      {
        "Restriction": {
          "ArgHasRole": {
            "arg_type": "Input",
            "index": 0,
            "role_key": "owner"
          }
        }
      },
      {
        "Op": "And"
      },
      {
        "Restriction": {
          "FixedArgMetadataValue": {
            "arg_type": "Input",
            "index": 0,
            "metadata_key": "subtype",
            "metadata_value": {
              "Literal": "demand_b"
            }
          }
        }
      },
      {
        "Restriction": {
          "FixedArgMetadataValue": {
            "arg_type": "Input",
            "index": 0,
            "metadata_key": "subtype",
            "metadata_value": {
              "Literal": "demand_a"
            }
          }
        }
      },
      {
        "Op": "Or"
      },
      {
        "Op": "And"
      },
      {
        "Restriction": {
          "FixedArgMetadataValue": {
            "arg_type": "Input",
            "index": 0,
            "metadata_key": "state",
            "metadata_value": {
              "Literal": "cancelled"
            }
          }
        }
      },
      {
        "Restriction": {
          "FixedArgMetadataValue": {
            "arg_type": "Input",
            "index": 0,
            "metadata_key": "state",
            "metadata_value": {
              "Literal": "allocated"
            }
          }
        }
      },
      {
        "Restriction": {
          "FixedArgMetadataValue": {
            "arg_type": "Input",
            "index": 0,
            "metadata_key": "state",
            "metadata_value": {
              "Literal": "created"
            }
          }
        }
      },
      {
        "Op": "Or"
      },
      {
        "Op": "Or"
      },
      {
        "Op": "And"
      },
      {
        "Restriction": {
          "ArgHasMetadata": {
            "arg_type": "Input",
            "index": 0,
            "metadata_key": "parameters"
          }
        }
      },
      {
        "Restriction": "None"
      },
      {
        "Op": "NotL"
      },
      {
        "Restriction": {
          "FixedArgMetadataValueType": {
            "arg_type": "Input",
            "index": 0,
            "metadata_key": "parameters",
            "metadata_value_type": "File"
          }
        }
      },
      {
        "Op": "Or"
      },
      {
        "Op": "And"
      },
      {
        "Restriction": {
          "FixedArgMetadataValueType": {
            "arg_type": "Input",
            "index": 0,
            "metadata_key": "comment",
            "metadata_value_type": "File"
          }
        }
      },
      {
        "Restriction": {
          "ArgHasMetadata": {
            "arg_type": "Input",
            "index": 0,
            "metadata_key": "comment"
          }
        }
      },
      {
        "Restriction": "None"
      },
      {
        "Op": "NotL"
      },
      {
        "Op": "Or"
      },
      {
        "Op": "And"
      },
      {
        "Restriction": {
          "ArgHasRole": {
            "arg_type": "Input",
            "index": 1,
            "role_key": "owner"
          }
        }
      },
      {
        "Op": "And"
      },
      {
        "Restriction": {
          "FixedArgMetadataValue": {
            "arg_type": "Input",
            "index": 1,
            "metadata_key": "subtype",
            "metadata_value": {
              "Literal": "demand_b"
            }
          }
        }
      },
      {
        "Restriction": {
          "FixedArgMetadataValue": {
            "arg_type": "Input",
            "index": 1,
            "metadata_key": "subtype",
            "metadata_value": {
              "Literal": "demand_a"
            }
          }
        }
      },
      {
        "Op": "Or"
      },
      {
        "Op": "And"
      },
      {
        "Restriction": {
          "FixedArgMetadataValue": {
            "arg_type": "Input",
            "index": 1,
            "metadata_key": "state",
            "metadata_value": {
              "Literal": "cancelled"
            }
          }
        }
      },
      {
        "Restriction": {
          "FixedArgMetadataValue": {
            "arg_type": "Input",
            "index": 1,
            "metadata_key": "state",
            "metadata_value": {
              "Literal": "allocated"
            }
          }
        }
      },
      {
        "Restriction": {
          "FixedArgMetadataValue": {
            "arg_type": "Input",
            "index": 1,
            "metadata_key": "state",
            "metadata_value": {
              "Literal": "created"
            }
          }
        }
      },
      {
        "Op": "Or"
      },
      {
        "Op": "Or"
      },
      {
        "Op": "And"
      },
      {
        "Restriction": {
          "ArgHasMetadata": {
            "arg_type": "Input",
            "index": 1,
            "metadata_key": "parameters"
          }
        }
      },
      {
        "Restriction": "None"
      },
      {
        "Op": "NotL"
      },
      {
        "Restriction": {
          "FixedArgMetadataValueType": {
            "arg_type": "Input",
            "index": 1,
            "metadata_key": "parameters",
            "metadata_value_type": "File"
          }
        }
      },
      {
        "Op": "Or"
      },
      {
        "Op": "And"
      },
      {
        "Restriction": {
          "FixedArgMetadataValueType": {
            "arg_type": "Input",
            "index": 1,
            "metadata_key": "comment",
            "metadata_value_type": "File"
          }
        }
      },
      {
        "Restriction": {
          "ArgHasMetadata": {
            "arg_type": "Input",
            "index": 1,
            "metadata_key": "comment"
          }
        }
      },
      {
        "Restriction": "None"
      },
      {
        "Op": "NotL"
      },
      {
        "Op": "Or"
      },
      {
        "Op": "And"
      },
      {
        "Restriction": {
          "ArgHasRole": {
            "arg_type": "Input",
            "index": 2,
            "role_key": "optimiser"
          }
        }
      },
      {
        "Op": "And"
      },
      {
        "Restriction": {
          "ArgHasRole": {
            "arg_type": "Input",
            "index": 2,
            "role_key": "member_a"
          }
        }
      },
      {
        "Op": "And"
      },
      {
        "Restriction": {
          "FixedArgMetadataValueType": {
            "arg_type": "Input",
            "index": 2,
            "metadata_key": "demand_a",
            "metadata_value_type": "TokenId"
          }
        }
      },
      {
        "Op": "And"
      },
      {
        "Restriction": {
          "ArgHasRole": {
            "arg_type": "Input",
            "index": 2,
            "role_key": "member_b"
          }
        }
      },
      {
        "Op": "And"
      },
      {
        "Restriction": {
          "FixedArgMetadataValueType": {
            "arg_type": "Input",
            "index": 2,
            "metadata_key": "demand_b",
            "metadata_value_type": "TokenId"
          }
        }
      },
      {
        "Op": "And"
      },
      {
        "Restriction": {
          "FixedArgMetadataValue": {
            "arg_type": "Input",
            "index": 2,
            "metadata_key": "state",
            "metadata_value": {
              "Literal": "cancelled"
            }
          }
        }
      },
      {
        "Restriction": {
          "FixedArgMetadataValue": {
            "arg_type": "Input",
            "index": 2,
            "metadata_key": "state",
            "metadata_value": {
              "Literal": "acceptedFinal"
            }
          }
        }
      },
      {
        "Restriction": {
          "FixedArgMetadataValue": {
            "arg_type": "Input",
            "index": 2,
            "metadata_key": "state",
            "metadata_value": {
              "Literal": "acceptedB"
            }
          }
        }
      },
      {
        "Restriction": {
          "FixedArgMetadataValue": {
            "arg_type": "Input",
            "index": 2,
            "metadata_key": "state",
            "metadata_value": {
              "Literal": "acceptedA"
            }
          }
        }
      },
      {
        "Restriction": {
          "FixedArgMetadataValue": {
            "arg_type": "Input",
            "index": 2,
            "metadata_key": "state",
            "metadata_value": {
              "Literal": "proposed"
            }
          }
        }
      },
      {
        "Op": "Or"
      },
      {
        "Op": "Or"
      },
      {
        "Op": "Or"
      },
      {
        "Op": "Or"
      },
      {
        "Op": "And"
      },
      {
        "Restriction": {
          "ArgHasMetadata": {
            "arg_type": "Input",
            "index": 2,
            "metadata_key": "replaces"
          }
        }
      },
      {
        "Restriction": "None"
      },
      {
        "Op": "NotL"
      },
      {
        "Restriction": {
          "FixedArgMetadataValueType": {
            "arg_type": "Input",
            "index": 2,
            "metadata_key": "replaces",
            "metadata_value_type": "TokenId"
          }
        }
      },
      {
        "Op": "Or"
      },
      {
        "Op": "And"
      },
      {
        "Restriction": {
          "FixedArgMetadataValueType": {
            "arg_type": "Input",
            "index": 2,
            "metadata_key": "comment",
            "metadata_value_type": "File"
          }
        }
      },
      {
        "Restriction": {
          "ArgHasMetadata": {
            "arg_type": "Input",
            "index": 2,
            "metadata_key": "comment"
          }
        }
      },
      {
        "Restriction": "None"
      },
      {
        "Op": "NotL"
      },
      {
        "Op": "Or"
      },
      {
        "Op": "And"
      },
      {
        "Restriction": {
          "ArgHasRole": {
            "arg_type": "Output",
            "index": 0,
            "role_key": "owner"
          }
        }
      },
      {
        "Op": "And"
      },
      {
        "Restriction": {
          "FixedArgMetadataValue": {
            "arg_type": "Output",
            "index": 0,
            "metadata_key": "subtype",
            "metadata_value": {
              "Literal": "demand_b"
            }
          }
        }
      },
      {
        "Restriction": {
          "FixedArgMetadataValue": {
            "arg_type": "Output",
            "index": 0,
            "metadata_key": "subtype",
            "metadata_value": {
              "Literal": "demand_a"
            }
          }
        }
      },
      {
        "Op": "Or"
      },
      {
        "Op": "And"
      },
      {
        "Restriction": {
          "FixedArgMetadataValue": {
            "arg_type": "Output",
            "index": 0,
            "metadata_key": "state",
            "metadata_value": {
              "Literal": "cancelled"
            }
          }
        }
      },
      {
        "Restriction": {
          "FixedArgMetadataValue": {
            "arg_type": "Output",
            "index": 0,
            "metadata_key": "state",
            "metadata_value": {
              "Literal": "allocated"
            }
          }
        }
      },
      {
        "Restriction": {
          "FixedArgMetadataValue": {
            "arg_type": "Output",
            "index": 0,
            "metadata_key": "state",
            "metadata_value": {
              "Literal": "created"
            }
          }
        }
      },
      {
        "Op": "Or"
      },
      {
        "Op": "Or"
      },
      {
        "Op": "And"
      },
      {
        "Restriction": {
          "ArgHasMetadata": {
            "arg_type": "Output",
            "index": 0,
            "metadata_key": "parameters"
          }
        }
      },
      {
        "Restriction": "None"
      },
      {
        "Op": "NotL"
      },
      {
        "Restriction": {
          "FixedArgMetadataValueType": {
            "arg_type": "Output",
            "index": 0,
            "metadata_key": "parameters",
            "metadata_value_type": "File"
          }
        }
      },
      {
        "Op": "Or"
      },
      {
        "Op": "And"
      },
      {
        "Restriction": {
          "FixedArgMetadataValueType": {
            "arg_type": "Output",
            "index": 0,
            "metadata_key": "comment",
            "metadata_value_type": "File"
          }
        }
      },
      {
        "Restriction": {
          "ArgHasMetadata": {
            "arg_type": "Output",
            "index": 0,
            "metadata_key": "comment"
          }
        }
      },
      {
        "Restriction": "None"
      },
      {
        "Op": "NotL"
      },
      {
        "Op": "Or"
      },
      {
        "Op": "And"
      },
      {
        "Restriction": {
          "ArgHasRole": {
            "arg_type": "Output",
            "index": 1,
            "role_key": "owner"
          }
        }
      },
      {
        "Op": "And"
      },
      {
        "Restriction": {
          "FixedArgMetadataValue": {
            "arg_type": "Output",
            "index": 1,
            "metadata_key": "subtype",
            "metadata_value": {
              "Literal": "demand_b"
            }
          }
        }
      },
      {
        "Restriction": {
          "FixedArgMetadataValue": {
            "arg_type": "Output",
            "index": 1,
            "metadata_key": "subtype",
            "metadata_value": {
              "Literal": "demand_a"
            }
          }
        }
      },
      {
        "Op": "Or"
      },
      {
        "Op": "And"
      },
      {
        "Restriction": {
          "FixedArgMetadataValue": {
            "arg_type": "Output",
            "index": 1,
            "metadata_key": "state",
            "metadata_value": {
              "Literal": "cancelled"
            }
          }
        }
      },
      {
        "Restriction": {
          "FixedArgMetadataValue": {
            "arg_type": "Output",
            "index": 1,
            "metadata_key": "state",
            "metadata_value": {
              "Literal": "allocated"
            }
          }
        }
      },
      {
        "Restriction": {
          "FixedArgMetadataValue": {
            "arg_type": "Output",
            "index": 1,
            "metadata_key": "state",
            "metadata_value": {
              "Literal": "created"
            }
          }
        }
      },
      {
        "Op": "Or"
      },
      {
        "Op": "Or"
      },
      {
        "Op": "And"
      },
      {
        "Restriction": {
          "ArgHasMetadata": {
            "arg_type": "Output",
            "index": 1,
            "metadata_key": "parameters"
          }
        }
      },
      {
        "Restriction": "None"
      },
      {
        "Op": "NotL"
      },
      {
        "Restriction": {
          "FixedArgMetadataValueType": {
            "arg_type": "Output",
            "index": 1,
            "metadata_key": "parameters",
            "metadata_value_type": "File"
          }
        }
      },
      {
        "Op": "Or"
      },
      {
        "Op": "And"
      },
      {
        "Restriction": {
          "FixedArgMetadataValueType": {
            "arg_type": "Output",
            "index": 1,
            "metadata_key": "comment",
            "metadata_value_type": "File"
          }
        }
      },
      {
        "Restriction": {
          "ArgHasMetadata": {
            "arg_type": "Output",
            "index": 1,
            "metadata_key": "comment"
          }
        }
      },
      {
        "Restriction": "None"
      },
      {
        "Op": "NotL"
      },
      {
        "Op": "Or"
      },
      {
        "Op": "And"
      },
      {
        "Restriction": {
          "ArgHasRole": {
            "arg_type": "Output",
            "index": 2,
            "role_key": "optimiser"
          }
        }
      },
      {
        "Op": "And"
      },
      {
        "Restriction": {
          "ArgHasRole": {
            "arg_type": "Output",
            "index": 2,
            "role_key": "member_a"
          }
        }
      },
      {
        "Op": "And"
      },
      {
        "Restriction": {
          "FixedArgMetadataValueType": {
            "arg_type": "Output",
            "index": 2,
            "metadata_key": "demand_a",
            "metadata_value_type": "TokenId"
          }
        }
      },
      {
        "Op": "And"
      },
      {
        "Restriction": {
          "ArgHasRole": {
            "arg_type": "Output",
            "index": 2,
            "role_key": "member_b"
          }
        }
      },
      {
        "Op": "And"
      },
      {
        "Restriction": {
          "FixedArgMetadataValueType": {
            "arg_type": "Output",
            "index": 2,
            "metadata_key": "demand_b",
            "metadata_value_type": "TokenId"
          }
        }
      },
      {
        "Op": "And"
      },
      {
        "Restriction": {
          "FixedArgMetadataValue": {
            "arg_type": "Output",
            "index": 2,
            "metadata_key": "state",
            "metadata_value": {
              "Literal": "cancelled"
            }
          }
        }
      },
      {
        "Restriction": {
          "FixedArgMetadataValue": {
            "arg_type": "Output",
            "index": 2,
            "metadata_key": "state",
            "metadata_value": {
              "Literal": "acceptedFinal"
            }
          }
        }
      },
      {
        "Restriction": {
          "FixedArgMetadataValue": {
            "arg_type": "Output",
            "index": 2,
            "metadata_key": "state",
            "metadata_value": {
              "Literal": "acceptedB"
            }
          }
        }
      },
      {
        "Restriction": {
          "FixedArgMetadataValue": {
            "arg_type": "Output",
            "index": 2,
            "metadata_key": "state",
            "metadata_value": {
              "Literal": "acceptedA"
            }
          }
        }
      },
      {
        "Restriction": {
          "FixedArgMetadataValue": {
            "arg_type": "Output",
            "index": 2,
            "metadata_key": "state",
            "metadata_value": {
              "Literal": "proposed"
            }
          }
        }
      },
      {
        "Op": "Or"
      },
      {
        "Op": "Or"
      },
      {
        "Op": "Or"
      },
      {
        "Op": "Or"
      },
      {
        "Op": "And"
      },
      {
        "Restriction": {
          "ArgHasMetadata": {
            "arg_type": "Output",
            "index": 2,
            "metadata_key": "replaces"
          }
        }
      },
      {
        "Restriction": "None"
      },
      {
        "Op": "NotL"
      },
      {
        "Restriction": {
          "FixedArgMetadataValueType": {
            "arg_type": "Output",
            "index": 2,
            "metadata_key": "replaces",
            "metadata_value_type": "TokenId"
          }
        }
      },
      {
        "Op": "Or"
      },
      {
        "Op": "And"
      },
      {
        "Restriction": {
          "FixedArgMetadataValueType": {
            "arg_type": "Output",
            "index": 2,
            "metadata_key": "comment",
            "metadata_value_type": "File"
          }
        }
      },
      {
        "Restriction": {
          "ArgHasMetadata": {
            "arg_type": "Output",
            "index": 2,
            "metadata_key": "comment"
          }
        }
      },
      {
        "Restriction": "None"
      },
      {
        "Op": "NotL"
      },
      {
        "Op": "Or"
      },
      {
        "Op": "And"
      },
      {
        "Restriction": {
          "MatchArgsMetadataValue": {
            "left_arg_type": "Input",
            "left_index": 0,
            "left_metadata_key": "@original_id",
            "right_arg_type": "Output",
            "right_index": 0,
            "right_metadata_key": "@original_id"
          }
        }
      },
      {
        "Restriction": {
          "ArgHasMetadata": {
            "arg_type": "Input",
            "index": 0,
            "metadata_key": "@original_id"
          }
        }
      },
      {
        "Restriction": {
          "MatchArgIdToMetadataValue": {
            "left_arg_type": "Input",
            "left_index": 0,
            "right_arg_type": "Output",
            "right_index": 0,
            "right_metadata_key": "@original_id"
          }
        }
      },
      {
        "Op": "InhibitionR"
      },
      {
        "Op": "Xor"
      },
      {
        "Op": "And"
      },
      {
        "Restriction": {
          "MatchArgsRole": {
            "left_arg_type": "Input",
            "left_index": 0,
            "left_role_key": "owner",
            "right_arg_type": "Output",
            "right_index": 0,
            "right_role_key": "owner"
          }
        }
      },
      {
        "Op": "And"
      },
      {
        "Restriction": {
          "MatchArgsMetadataValue": {
            "left_arg_type": "Input",
            "left_index": 0,
            "left_metadata_key": "subtype",
            "right_arg_type": "Output",
            "right_index": 0,
            "right_metadata_key": "subtype"
          }
        }
      },
      {
        "Op": "And"
      },
      {
        "Restriction": {
          "ArgHasMetadata": {
            "arg_type": "Output",
            "index": 0,
            "metadata_key": "parameters"
          }
        }
      },
      {
        "Restriction": "None"
      },
      {
        "Op": "NotL"
      },
      {
        "Op": "And"
      },
      {
        "Restriction": {
          "FixedArgMetadataValue": {
            "arg_type": "Input",
            "index": 0,
            "metadata_key": "subtype",
            "metadata_value": {
              "Literal": "demand_a"
            }
          }
        }
      },
      {
        "Op": "And"
      },
      {
        "Restriction": {
          "FixedArgMetadataValue": {
            "arg_type": "Input",
            "index": 0,
            "metadata_key": "state",
            "metadata_value": {
              "Literal": "allocated"
            }
          }
        }
      },
      {
        "Op": "And"
      },
      {
        "Restriction": {
          "FixedArgMetadataValue": {
            "arg_type": "Output",
            "index": 0,
            "metadata_key": "state",
            "metadata_value": {
              "Literal": "cancelled"
            }
          }
        }
      },
      {
        "Op": "And"
      },
      {
        "Restriction": {
          "MatchArgsMetadataValue": {
            "left_arg_type": "Input",
            "left_index": 1,
            "left_metadata_key": "@original_id",
            "right_arg_type": "Output",
            "right_index": 1,
            "right_metadata_key": "@original_id"
          }
        }
      },
      {
        "Restriction": {
          "ArgHasMetadata": {
            "arg_type": "Input",
            "index": 1,
            "metadata_key": "@original_id"
          }
        }
      },
      {
        "Restriction": {
          "MatchArgIdToMetadataValue": {
            "left_arg_type": "Input",
            "left_index": 1,
            "right_arg_type": "Output",
            "right_index": 1,
            "right_metadata_key": "@original_id"
          }
        }
      },
      {
        "Op": "InhibitionR"
      },
      {
        "Op": "Xor"
      },
      {
        "Op": "And"
      },
      {
        "Restriction": {
          "MatchArgsRole": {
            "left_arg_type": "Input",
            "left_index": 1,
            "left_role_key": "owner",
            "right_arg_type": "Output",
            "right_index": 1,
            "right_role_key": "owner"
          }
        }
      },
      {
        "Op": "And"
      },
      {
        "Restriction": {
          "MatchArgsMetadataValue": {
            "left_arg_type": "Input",
            "left_index": 1,
            "left_metadata_key": "subtype",
            "right_arg_type": "Output",
            "right_index": 1,
            "right_metadata_key": "subtype"
          }
        }
      },
      {
        "Op": "And"
      },
      {
        "Restriction": {
          "ArgHasMetadata": {
            "arg_type": "Output",
            "index": 1,
            "metadata_key": "parameters"
          }
        }
      },
      {
        "Restriction": "None"
      },
      {
        "Op": "NotL"
      },
      {
        "Op": "And"
      },
      {
        "Restriction": {
          "FixedArgMetadataValue": {
            "arg_type": "Input",
            "index": 1,
            "metadata_key": "subtype",
            "metadata_value": {
              "Literal": "demand_b"
            }
          }
        }
      },
      {
        "Op": "And"
      },
      {
        "Restriction": {
          "FixedArgMetadataValue": {
            "arg_type": "Input",
            "index": 1,
            "metadata_key": "state",
            "metadata_value": {
              "Literal": "allocated"
            }
          }
        }
      },
      {
        "Op": "And"
      },
      {
        "Restriction": {
          "FixedArgMetadataValue": {
            "arg_type": "Output",
            "index": 1,
            "metadata_key": "state",
            "metadata_value": {
              "Literal": "cancelled"
            }
          }
        }
      },
      {
        "Op": "And"
      },
      {
        "Restriction": {
          "MatchArgsMetadataValue": {
            "left_arg_type": "Input",
            "left_index": 2,
            "left_metadata_key": "@original_id",
            "right_arg_type": "Output",
            "right_index": 2,
            "right_metadata_key": "@original_id"
          }
        }
      },
      {
        "Restriction": {
          "ArgHasMetadata": {
            "arg_type": "Input",
            "index": 2,
            "metadata_key": "@original_id"
          }
        }
      },
      {
        "Restriction": {
          "MatchArgIdToMetadataValue": {
            "left_arg_type": "Input",
            "left_index": 2,
            "right_arg_type": "Output",
            "right_index": 2,
            "right_metadata_key": "@original_id"
          }
        }
      },
      {
        "Op": "InhibitionR"
      },
      {
        "Op": "Xor"
      },
      {
        "Op": "And"
      },
      {
        "Restriction": {
          "MatchArgsRole": {
            "left_arg_type": "Input",
            "left_index": 2,
            "left_role_key": "optimiser",
            "right_arg_type": "Output",
            "right_index": 2,
            "right_role_key": "optimiser"
          }
        }
      },
      {
        "Op": "And"
      },
      {
        "Restriction": {
          "MatchArgsRole": {
            "left_arg_type": "Input",
            "left_index": 2,
            "left_role_key": "member_a",
            "right_arg_type": "Output",
            "right_index": 2,
            "right_role_key": "member_a"
          }
        }
      },
      {
        "Op": "And"
      },
      {
        "Restriction": {
          "MatchArgsMetadataValue": {
            "left_arg_type": "Input",
            "left_index": 2,
            "left_metadata_key": "demand_a",
            "right_arg_type": "Output",
            "right_index": 2,
            "right_metadata_key": "demand_a"
          }
        }
      },
      {
        "Op": "And"
      },
      {
        "Restriction": {
          "MatchArgsRole": {
            "left_arg_type": "Input",
            "left_index": 2,
            "left_role_key": "member_b",
            "right_arg_type": "Output",
            "right_index": 2,
            "right_role_key": "member_b"
          }
        }
      },
      {
        "Op": "And"
      },
      {
        "Restriction": {
          "MatchArgsMetadataValue": {
            "left_arg_type": "Input",
            "left_index": 2,
            "left_metadata_key": "demand_b",
            "right_arg_type": "Output",
            "right_index": 2,
            "right_metadata_key": "demand_b"
          }
        }
      },
      {
        "Op": "And"
      },
      {
        "Restriction": {
          "ArgHasMetadata": {
            "arg_type": "Input",
            "index": 2,
            "metadata_key": "replaces"
          }
        }
      },
      {
        "Restriction": {
          "ArgHasMetadata": {
            "arg_type": "Output",
            "index": 2,
            "metadata_key": "replaces"
          }
        }
      },
      {
        "Op": "Xnor"
      },
      {
        "Restriction": {
          "ArgHasRole": {
            "arg_type": "Input",
            "index": 2,
            "role_key": "replaces"
          }
        }
      },
      {
        "Restriction": {
          "ArgHasRole": {
            "arg_type": "Output",
            "index": 2,
            "role_key": "replaces"
          }
        }
      },
      {
        "Op": "Xnor"
      },
      {
        "Op": "And"
      },
      {
        "Restriction": {
          "MatchArgsMetadataValue": {
            "left_arg_type": "Input",
            "left_index": 2,
            "left_metadata_key": "replaces",
            "right_arg_type": "Output",
            "right_index": 2,
            "right_metadata_key": "replaces"
          }
        }
      },
      {
        "Restriction": {
          "ArgHasMetadata": {
            "arg_type": "Output",
            "index": 2,
            "metadata_key": "replaces"
          }
        }
      },
      {
        "Op": "ImplicationR"
      },
      {
        "Op": "And"
      },
      {
        "Op": "And"
      },
      {
        "Restriction": {
          "MatchArgsMetadataValue": {
            "left_arg_type": "Input",
            "left_index": 0,
            "left_metadata_key": "@original_id",
            "right_arg_type": "Output",
            "right_index": 2,
            "right_metadata_key": "demand_a"
          }
        }
      },
      {
        "Restriction": {
          "ArgHasMetadata": {
            "arg_type": "Input",
            "index": 0,
            "metadata_key": "demand_a"
          }
        }
      },
      {
        "Restriction": {
          "MatchArgIdToMetadataValue": {
            "left_arg_type": "Input",
            "left_index": 0,
            "right_arg_type": "Output",
            "right_index": 2,
            "right_metadata_key": "demand_a"
          }
        }
      },
      {
        "Op": "InhibitionR"
      },
      {
        "Op": "Xor"
      },
      {
        "Op": "And"
      },
      {
        "Restriction": {
          "MatchArgsMetadataValue": {
            "left_arg_type": "Input",
            "left_index": 1,
            "left_metadata_key": "@original_id",
            "right_arg_type": "Output",
            "right_index": 2,
            "right_metadata_key": "demand_b"
          }
        }
      },
      {
        "Restriction": {
          "ArgHasMetadata": {
            "arg_type": "Input",
            "index": 1,
            "metadata_key": "demand_b"
          }
        }
      },
      {
        "Restriction": {
          "MatchArgIdToMetadataValue": {
            "left_arg_type": "Input",
            "left_index": 1,
            "right_arg_type": "Output",
            "right_index": 2,
            "right_metadata_key": "demand_b"
          }
        }
      },
      {
        "Op": "InhibitionR"
      },
      {
        "Op": "Xor"
      },
      {
        "Op": "And"
      },
      {
        "Restriction": {
          "FixedArgMetadataValue": {
            "arg_type": "Input",
            "index": 2,
            "metadata_key": "state",
            "metadata_value": {
              "Literal": "acceptedFinal"
            }
          }
        }
      },
      {
        "Op": "And"
      },
      {
        "Restriction": {
          "FixedArgMetadataValue": {
            "arg_type": "Output",
            "index": 2,
            "metadata_key": "state",
            "metadata_value": {
              "Literal": "cancelled"
            }
          }
        }
      },
      {
        "Op": "And"
      },
      {
        "Restriction": {
          "SenderHasArgRole": {
            "arg_type": "Output",
            "index": 2,
            "role_key": "member_a"
          }
        }
      },
      {
        "Restriction": {
          "SenderHasArgRole": {
            "arg_type": "Output",
            "index": 2,
            "role_key": "member_b"
          }
        }
      },
      {
        "Op": "Or"
      },
      {
        "Op": "And"
      }
    ],
    "version": 1
  },
  {
    "name": "rematch2_propose",
    "program": [
      {
        "Restriction": {
          "FixedArgCount": {
            "arg_type": "Reference",
            "count": 4
          }
        }
      },
      {
        "Restriction": {
          "FixedArgCount": {
            "arg_type": "Input",
            "count": 0
          }
        }
      },
      {
        "Op": "And"
      },
      {
        "Restriction": {
          "FixedArgCount": {
            "arg_type": "Output",
            "count": 1
          }
        }
      },
      {
        "Op": "And"
      },
      {
        "Restriction": {
          "FixedArgMetadataValue": {
            "arg_type": "Reference",
            "index": 0,
            "metadata_key": "@type",
            "metadata_value": {
              "Literal": "Permission"
            }
          }
        }
      },
      {
        "Op": "And"
      },
      {
        "Restriction": {
          "FixedArgMetadataValue": {
            "arg_type": "Reference",
            "index": 0,
            "metadata_key": "@version",
            "metadata_value": {
              "Literal": "1"
            }
          }
        }
      },
      {
        "Op": "And"
      },
      {
        "Restriction": {
          "FixedArgMetadataValue": {
            "arg_type": "Reference",
            "index": 1,
            "metadata_key": "@type",
            "metadata_value": {
              "Literal": "Demand"
            }
          }
        }
      },
      {
        "Op": "And"
      },
      {
        "Restriction": {
          "FixedArgMetadataValue": {
            "arg_type": "Reference",
            "index": 1,
            "metadata_key": "@version",
            "metadata_value": {
              "Literal": "1"
            }
          }
        }
      },
      {
        "Op": "And"
      },
      {
        "Restriction": {
          "FixedArgMetadataValue": {
            "arg_type": "Reference",
            "index": 2,
            "metadata_key": "@type",
            "metadata_value": {
              "Literal": "Match2"
            }
          }
        }
      },
      {
        "Op": "And"
      },
      {
        "Restriction": {
          "FixedArgMetadataValue": {
            "arg_type": "Reference",
            "index": 2,
            "metadata_key": "@version",
            "metadata_value": {
              "Literal": "1"
            }
          }
        }
      },
      {
        "Op": "And"
      },
      {
        "Restriction": {
          "FixedArgMetadataValue": {
            "arg_type": "Reference",
            "index": 3,
            "metadata_key": "@type",
            "metadata_value": {
              "Literal": "Demand"
            }
          }
        }
      },
      {
        "Op": "And"
      },
      {
        "Restriction": {
          "FixedArgMetadataValue": {
            "arg_type": "Reference",
            "index": 3,
            "metadata_key": "@version",
            "metadata_value": {
              "Literal": "1"
            }
          }
        }
      },
      {
        "Op": "And"
      },
      {
        "Restriction": {
          "FixedArgMetadataValue": {
            "arg_type": "Output",
            "index": 0,
            "metadata_key": "@type",
            "metadata_value": {
              "Literal": "Match2"
            }
          }
        }
      },
      {
        "Op": "And"
      },
      {
        "Restriction": {
          "FixedArgMetadataValue": {
            "arg_type": "Output",
            "index": 0,
            "metadata_key": "@version",
            "metadata_value": {
              "Literal": "1"
            }
          }
        }
      },
      {
        "Op": "And"
      },
      {
        "Restriction": {
          "ArgHasRole": {
            "arg_type": "Reference",
            "index": 0,
            "role_key": "owner"
          }
        }
      },
      {
        "Op": "And"
      },
      {
        "Restriction": {
          "FixedArgMetadataValue": {
            "arg_type": "Reference",
            "index": 0,
            "metadata_key": "scope",
            "metadata_value": {
              "Literal": "optimiser"
            }
          }
        }
      },
      {
        "Restriction": {
          "FixedArgMetadataValue": {
            "arg_type": "Reference",
            "index": 0,
            "metadata_key": "scope",
            "metadata_value": {
              "Literal": "member_b"
            }
          }
        }
      },
      {
        "Restriction": {
          "FixedArgMetadataValue": {
            "arg_type": "Reference",
            "index": 0,
            "metadata_key": "scope",
            "metadata_value": {
              "Literal": "member_a"
            }
          }
        }
      },
      {
        "Op": "Or"
      },
      {
        "Op": "Or"
      },
      {
        "Op": "And"
      },
      {
        "Restriction": {
          "ArgHasRole": {
            "arg_type": "Reference",
            "index": 1,
            "role_key": "owner"
          }
        }
      },
      {
        "Op": "And"
      },
      {
        "Restriction": {
          "FixedArgMetadataValue": {
            "arg_type": "Reference",
            "index": 1,
            "metadata_key": "subtype",
            "metadata_value": {
              "Literal": "demand_b"
            }
          }
        }
      },
      {
        "Restriction": {
          "FixedArgMetadataValue": {
            "arg_type": "Reference",
            "index": 1,
            "metadata_key": "subtype",
            "metadata_value": {
              "Literal": "demand_a"
            }
          }
        }
      },
      {
        "Op": "Or"
      },
      {
        "Op": "And"
      },
      {
        "Restriction": {
          "FixedArgMetadataValue": {
            "arg_type": "Reference",
            "index": 1,
            "metadata_key": "state",
            "metadata_value": {
              "Literal": "cancelled"
            }
          }
        }
      },
      {
        "Restriction": {
          "FixedArgMetadataValue": {
            "arg_type": "Reference",
            "index": 1,
            "metadata_key": "state",
            "metadata_value": {
              "Literal": "allocated"
            }
          }
        }
      },
      {
        "Restriction": {
          "FixedArgMetadataValue": {
            "arg_type": "Reference",
            "index": 1,
            "metadata_key": "state",
            "metadata_value": {
              "Literal": "created"
            }
          }
        }
      },
      {
        "Op": "Or"
      },
      {
        "Op": "Or"
      },
      {
        "Op": "And"
      },
      {
        "Restriction": {
          "ArgHasMetadata": {
            "arg_type": "Reference",
            "index": 1,
            "metadata_key": "parameters"
          }
        }
      },
      {
        "Restriction": "None"
      },
      {
        "Op": "NotL"
      },
      {
        "Restriction": {
          "FixedArgMetadataValueType": {
            "arg_type": "Reference",
            "index": 1,
            "metadata_key": "parameters",
            "metadata_value_type": "File"
          }
        }
      },
      {
        "Op": "Or"
      },
      {
        "Op": "And"
      },
      {
        "Restriction": {
          "FixedArgMetadataValueType": {
            "arg_type": "Reference",
            "index": 1,
            "metadata_key": "comment",
            "metadata_value_type": "File"
          }
        }
      },
      {
        "Restriction": {
          "ArgHasMetadata": {
            "arg_type": "Reference",
            "index": 1,
            "metadata_key": "comment"
          }
        }
      },
      {
        "Restriction": "None"
      },
      {
        "Op": "NotL"
      },
      {
        "Op": "Or"
      },
      {
        "Op": "And"
      },
      {
        "Restriction": {
          "ArgHasRole": {
            "arg_type": "Reference",
            "index": 2,
            "role_key": "optimiser"
          }
        }
      },
      {
        "Op": "And"
      },
      {
        "Restriction": {
          "ArgHasRole": {
            "arg_type": "Reference",
            "index": 2,
            "role_key": "member_a"
          }
        }
      },
      {
        "Op": "And"
      },
      {
        "Restriction": {
          "FixedArgMetadataValueType": {
            "arg_type": "Reference",
            "index": 2,
            "metadata_key": "demand_a",
            "metadata_value_type": "TokenId"
          }
        }
      },
      {
        "Op": "And"
      },
      {
        "Restriction": {
          "ArgHasRole": {
            "arg_type": "Reference",
            "index": 2,
            "role_key": "member_b"
          }
        }
      },
      {
        "Op": "And"
      },
      {
        "Restriction": {
          "FixedArgMetadataValueType": {
            "arg_type": "Reference",
            "index": 2,
            "metadata_key": "demand_b",
            "metadata_value_type": "TokenId"
          }
        }
      },
      {
        "Op": "And"
      },
      {
        "Restriction": {
          "FixedArgMetadataValue": {
            "arg_type": "Reference",
            "index": 2,
            "metadata_key": "state",
            "metadata_value": {
              "Literal": "cancelled"
            }
          }
        }
      },
      {
        "Restriction": {
          "FixedArgMetadataValue": {
            "arg_type": "Reference",
            "index": 2,
            "metadata_key": "state",
            "metadata_value": {
              "Literal": "acceptedFinal"
            }
          }
        }
      },
      {
        "Restriction": {
          "FixedArgMetadataValue": {
            "arg_type": "Reference",
            "index": 2,
            "metadata_key": "state",
            "metadata_value": {
              "Literal": "acceptedB"
            }
          }
        }
      },
      {
        "Restriction": {
          "FixedArgMetadataValue": {
            "arg_type": "Reference",
            "index": 2,
            "metadata_key": "state",
            "metadata_value": {
              "Literal": "acceptedA"
            }
          }
        }
      },
      {
        "Restriction": {
          "FixedArgMetadataValue": {
            "arg_type": "Reference",
            "index": 2,
            "metadata_key": "state",
            "metadata_value": {
              "Literal": "proposed"
            }
          }
        }
      },
      {
        "Op": "Or"
      },
      {
        "Op": "Or"
      },
      {
        "Op": "Or"
      },
      {
        "Op": "Or"
      },
      {
        "Op": "And"
      },
      {
        "Restriction": {
          "ArgHasMetadata": {
            "arg_type": "Reference",
            "index": 2,
            "metadata_key": "replaces"
          }
        }
      },
      {
        "Restriction": "None"
      },
      {
        "Op": "NotL"
      },
      {
        "Restriction": {
          "FixedArgMetadataValueType": {
            "arg_type": "Reference",
            "index": 2,
            "metadata_key": "replaces",
            "metadata_value_type": "TokenId"
          }
        }
      },
      {
        "Op": "Or"
      },
      {
        "Op": "And"
      },
      {
        "Restriction": {
          "FixedArgMetadataValueType": {
            "arg_type": "Reference",
            "index": 2,
            "metadata_key": "comment",
            "metadata_value_type": "File"
          }
        }
      },
      {
        "Restriction": {
          "ArgHasMetadata": {
            "arg_type": "Reference",
            "index": 2,
            "metadata_key": "comment"
          }
        }
      },
      {
        "Restriction": "None"
      },
      {
        "Op": "NotL"
      },
      {
        "Op": "Or"
      },
      {
        "Op": "And"
      },
      {
        "Restriction": {
          "ArgHasRole": {
            "arg_type": "Reference",
            "index": 3,
            "role_key": "owner"
          }
        }
      },
      {
        "Op": "And"
      },
      {
        "Restriction": {
          "FixedArgMetadataValue": {
            "arg_type": "Reference",
            "index": 3,
            "metadata_key": "subtype",
            "metadata_value": {
              "Literal": "demand_b"
            }
          }
        }
      },
      {
        "Restriction": {
          "FixedArgMetadataValue": {
            "arg_type": "Reference",
            "index": 3,
            "metadata_key": "subtype",
            "metadata_value": {
              "Literal": "demand_a"
            }
          }
        }
      },
      {
        "Op": "Or"
      },
      {
        "Op": "And"
      },
      {
        "Restriction": {
          "FixedArgMetadataValue": {
            "arg_type": "Reference",
            "index": 3,
            "metadata_key": "state",
            "metadata_value": {
              "Literal": "cancelled"
            }
          }
        }
      },
      {
        "Restriction": {
          "FixedArgMetadataValue": {
            "arg_type": "Reference",
            "index": 3,
            "metadata_key": "state",
            "metadata_value": {
              "Literal": "allocated"
            }
          }
        }
      },
      {
        "Restriction": {
          "FixedArgMetadataValue": {
            "arg_type": "Reference",
            "index": 3,
            "metadata_key": "state",
            "metadata_value": {
              "Literal": "created"
            }
          }
        }
      },
      {
        "Op": "Or"
      },
      {
        "Op": "Or"
      },
      {
        "Op": "And"
      },
      {
        "Restriction": {
          "ArgHasMetadata": {
            "arg_type": "Reference",
            "index": 3,
            "metadata_key": "parameters"
          }
        }
      },
      {
        "Restriction": "None"
      },
      {
        "Op": "NotL"
      },
      {
        "Restriction": {
          "FixedArgMetadataValueType": {
            "arg_type": "Reference",
            "index": 3,
            "metadata_key": "parameters",
            "metadata_value_type": "File"
          }
        }
      },
      {
        "Op": "Or"
      },
      {
        "Op": "And"
      },
      {
        "Restriction": {
          "FixedArgMetadataValueType": {
            "arg_type": "Reference",
            "index": 3,
            "metadata_key": "comment",
            "metadata_value_type": "File"
          }
        }
      },
      {
        "Restriction": {
          "ArgHasMetadata": {
            "arg_type": "Reference",
            "index": 3,
            "metadata_key": "comment"
          }
        }
      },
      {
        "Restriction": "None"
      },
      {
        "Op": "NotL"
      },
      {
        "Op": "Or"
      },
      {
        "Op": "And"
      },
      {
        "Restriction": {
          "ArgHasRole": {
            "arg_type": "Output",
            "index": 0,
            "role_key": "optimiser"
          }
        }
      },
      {
        "Op": "And"
      },
      {
        "Restriction": {
          "ArgHasRole": {
            "arg_type": "Output",
            "index": 0,
            "role_key": "member_a"
          }
        }
      },
      {
        "Op": "And"
      },
      {
        "Restriction": {
          "FixedArgMetadataValueType": {
            "arg_type": "Output",
            "index": 0,
            "metadata_key": "demand_a",
            "metadata_value_type": "TokenId"
          }
        }
      },
      {
        "Op": "And"
      },
      {
        "Restriction": {
          "ArgHasRole": {
            "arg_type": "Output",
            "index": 0,
            "role_key": "member_b"
          }
        }
      },
      {
        "Op": "And"
      },
      {
        "Restriction": {
          "FixedArgMetadataValueType": {
            "arg_type": "Output",
            "index": 0,
            "metadata_key": "demand_b",
            "metadata_value_type": "TokenId"
          }
        }
      },
      {
        "Op": "And"
      },
      {
        "Restriction": {
          "FixedArgMetadataValue": {
            "arg_type": "Output",
            "index": 0,
            "metadata_key": "state",
            "metadata_value": {
              "Literal": "cancelled"
            }
          }
        }
      },
      {
        "Restriction": {
          "FixedArgMetadataValue": {
            "arg_type": "Output",
            "index": 0,
            "metadata_key": "state",
            "metadata_value": {
              "Literal": "acceptedFinal"
            }
          }
        }
      },
      {
        "Restriction": {
          "FixedArgMetadataValue": {
            "arg_type": "Output",
            "index": 0,
            "metadata_key": "state",
            "metadata_value": {
              "Literal": "acceptedB"
            }
          }
        }
      },
      {
        "Restriction": {
          "FixedArgMetadataValue": {
            "arg_type": "Output",
            "index": 0,
            "metadata_key": "state",
            "metadata_value": {
              "Literal": "acceptedA"
            }
          }
        }
      },
      {
        "Restriction": {
          "FixedArgMetadataValue": {
            "arg_type": "Output",
            "index": 0,
            "metadata_key": "state",
            "metadata_value": {
              "Literal": "proposed"
            }
          }
        }
      },
      {
        "Op": "Or"
      },
      {
        "Op": "Or"
      },
      {
        "Op": "Or"
      },
      {
        "Op": "Or"
      },
      {
        "Op": "And"
      },
      {
        "Restriction": {
          "ArgHasMetadata": {
            "arg_type": "Output",
            "index": 0,
            "metadata_key": "replaces"
          }
        }
      },
      {
        "Restriction": "None"
      },
      {
        "Op": "NotL"
      },
      {
        "Restriction": {
          "FixedArgMetadataValueType": {
            "arg_type": "Output",
            "index": 0,
            "metadata_key": "replaces",
            "metadata_value_type": "TokenId"
          }
        }
      },
      {
        "Op": "Or"
      },
      {
        "Op": "And"
      },
      {
        "Restriction": {
          "FixedArgMetadataValueType": {
            "arg_type": "Output",
            "index": 0,
            "metadata_key": "comment",
            "metadata_value_type": "File"
          }
        }
      },
      {
        "Restriction": {
          "ArgHasMetadata": {
            "arg_type": "Output",
            "index": 0,
            "metadata_key": "comment"
          }
        }
      },
      {
        "Restriction": "None"
      },
      {
        "Op": "NotL"
      },
      {
        "Op": "Or"
      },
      {
        "Op": "And"
      },
      {
        "Restriction": {
          "FixedArgMetadataValue": {
            "arg_type": "Reference",
            "index": 0,
            "metadata_key": "scope",
            "metadata_value": {
              "Literal": "optimiser"
            }
          }
        }
      },
      {
        "Op": "And"
      },
      {
        "Restriction": {
          "SenderHasArgRole": {
            "arg_type": "Reference",
            "index": 0,
            "role_key": "owner"
          }
        }
      },
      {
        "Op": "And"
      },
      {
        "Restriction": {
          "FixedArgMetadataValue": {
            "arg_type": "Reference",
            "index": 1,
            "metadata_key": "subtype",
            "metadata_value": {
              "Literal": "demand_a"
            }
          }
        }
      },
      {
        "Op": "And"
      },
      {
        "Restriction": {
          "FixedArgMetadataValue": {
            "arg_type": "Reference",
            "index": 1,
            "metadata_key": "state",
            "metadata_value": {
              "Literal": "allocated"
            }
          }
        }
      },
      {
        "Op": "And"
      },
      {
        "Restriction": {
          "FixedArgMetadataValue": {
            "arg_type": "Reference",
            "index": 3,
            "metadata_key": "subtype",
            "metadata_value": {
              "Literal": "demand_b"
            }
          }
        }
      },
      {
        "Op": "And"
      },
      {
        "Restriction": {
          "FixedArgMetadataValue": {
            "arg_type": "Reference",
            "index": 3,
            "metadata_key": "state",
            "metadata_value": {
              "Literal": "created"
            }
          }
        }
      },
      {
        "Op": "And"
      },
      {
        "Restriction": {
          "MatchArgsMetadataValue": {
            "left_arg_type": "Reference",
            "left_index": 1,
            "left_metadata_key": "@original_id",
            "right_arg_type": "Reference",
            "right_index": 2,
            "right_metadata_key": "demand_a"
          }
        }
      },
      {
        "Restriction": {
          "ArgHasMetadata": {
            "arg_type": "Reference",
            "index": 1,
            "metadata_key": "demand_a"
          }
        }
      },
      {
        "Restriction": {
          "MatchArgIdToMetadataValue": {
            "left_arg_type": "Reference",
            "left_index": 1,
            "right_arg_type": "Reference",
            "right_index": 2,
            "right_metadata_key": "demand_a"
          }
        }
      },
      {
        "Op": "InhibitionR"
      },
      {
        "Op": "Xor"
      },
      {
        "Op": "And"
      },
      {
        "Restriction": {
          "FixedArgMetadataValue": {
            "arg_type": "Reference",
            "index": 2,
            "metadata_key": "state",
            "metadata_value": {
              "Literal": "acceptedFinal"
            }
          }
        }
      },
      {
        "Op": "And"
      },
      {
        "Restriction": {
          "SenderHasArgRole": {
            "arg_type": "Output",
            "index": 0,
            "role_key": "optimiser"
          }
        }
      },
      {
        "Op": "And"
      },
      {
        "Restriction": {
          "MatchArgsMetadataValue": {
            "left_arg_type": "Reference",
            "left_index": 1,
            "left_metadata_key": "@original_id",
            "right_arg_type": "Output",
            "right_index": 0,
            "right_metadata_key": "demand_a"
          }
        }
      },
      {
        "Restriction": {
          "ArgHasMetadata": {
            "arg_type": "Reference",
            "index": 1,
            "metadata_key": "demand_a"
          }
        }
      },
      {
        "Restriction": {
          "MatchArgIdToMetadataValue": {
            "left_arg_type": "Reference",
            "left_index": 1,
            "right_arg_type": "Output",
            "right_index": 0,
            "right_metadata_key": "demand_a"
          }
        }
      },
      {
        "Op": "InhibitionR"
      },
      {
        "Op": "Xor"
      },
      {
        "Restriction": {
          "MatchArgsRole": {
            "left_arg_type": "Reference",
            "left_index": 1,
            "left_role_key": "owner",
            "right_arg_type": "Output",
            "right_index": 0,
            "right_role_key": "member_a"
          }
        }
      },
      {
        "Op": "And"
      },
      {
        "Restriction": {
          "MatchArgsMetadataValue": {
            "left_arg_type": "Reference",
            "left_index": 3,
            "left_metadata_key": "@original_id",
            "right_arg_type": "Output",
            "right_index": 0,
            "right_metadata_key": "demand_b"
          }
        }
      },
      {
        "Restriction": {
          "ArgHasMetadata": {
            "arg_type": "Reference",
            "index": 3,
            "metadata_key": "demand_b"
          }
        }
      },
      {
        "Restriction": {
          "MatchArgIdToMetadataValue": {
            "left_arg_type": "Reference",
            "left_index": 3,
            "right_arg_type": "Output",
            "right_index": 0,
            "right_metadata_key": "demand_b"
          }
        }
      },
      {
        "Op": "InhibitionR"
      },
      {
        "Op": "Xor"
      },
      {
        "Restriction": {
          "MatchArgsRole": {
            "left_arg_type": "Reference",
            "left_index": 3,
            "left_role_key": "owner",
            "right_arg_type": "Output",
            "right_index": 0,
            "right_role_key": "member_b"
          }
        }
      },
      {
        "Op": "And"
      },
      {
        "Op": "Or"
      },
      {
        "Op": "And"
      },
      {
        "Restriction": {
          "FixedArgMetadataValue": {
            "arg_type": "Output",
            "index": 0,
            "metadata_key": "state",
            "metadata_value": {
              "Literal": "proposed"
            }
          }
        }
      },
      {
        "Op": "And"
      },
      {
        "Restriction": {
          "MatchArgsMetadataValue": {
            "left_arg_type": "Reference",
            "left_index": 2,
            "left_metadata_key": "@original_id",
            "right_arg_type": "Output",
            "right_index": 0,
            "right_metadata_key": "replaces"
          }
        }
      },
      {
        "Restriction": {
          "ArgHasMetadata": {
            "arg_type": "Reference",
            "index": 2,
            "metadata_key": "replaces"
          }
        }
      },
      {
        "Restriction": {
          "MatchArgIdToMetadataValue": {
            "left_arg_type": "Reference",
            "left_index": 2,
            "right_arg_type": "Output",
            "right_index": 0,
            "right_metadata_key": "replaces"
          }
        }
      },
      {
        "Op": "InhibitionR"
      },
      {
        "Op": "Xor"
      },
      {
        "Op": "And"
      }
    ],
    "version": 2
  },
  {
    "name": "rematch2_acceptFinal",
    "program": [
      {
        "Restriction": {
          "FixedArgCount": {
            "arg_type": "Reference",
            "count": 1
          }
        }
      },
      {
        "Restriction": {
          "FixedArgCount": {
            "arg_type": "Input",
            "count": 4
          }
        }
      },
      {
        "Op": "And"
      },
      {
        "Restriction": {
          "FixedArgCount": {
            "arg_type": "Output",
            "count": 4
          }
        }
      },
      {
        "Op": "And"
      },
      {
        "Restriction": {
          "FixedArgMetadataValue": {
            "arg_type": "Reference",
            "index": 0,
            "metadata_key": "@type",
            "metadata_value": {
              "Literal": "Demand"
            }
          }
        }
      },
      {
        "Op": "And"
      },
      {
        "Restriction": {
          "FixedArgMetadataValue": {
            "arg_type": "Reference",
            "index": 0,
            "metadata_key": "@version",
            "metadata_value": {
              "Literal": "1"
            }
          }
        }
      },
      {
        "Op": "And"
      },
      {
        "Restriction": {
          "FixedArgMetadataValue": {
            "arg_type": "Input",
            "index": 0,
            "metadata_key": "@type",
            "metadata_value": {
              "Literal": "Demand"
            }
          }
        }
      },
      {
        "Op": "And"
      },
      {
        "Restriction": {
          "FixedArgMetadataValue": {
            "arg_type": "Input",
            "index": 0,
            "metadata_key": "@version",
            "metadata_value": {
              "Literal": "1"
            }
          }
        }
      },
      {
        "Op": "And"
      },
      {
        "Restriction": {
          "FixedArgMetadataValue": {
            "arg_type": "Input",
            "index": 1,
            "metadata_key": "@type",
            "metadata_value": {
              "Literal": "Match2"
            }
          }
        }
      },
      {
        "Op": "And"
      },
      {
        "Restriction": {
          "FixedArgMetadataValue": {
            "arg_type": "Input",
            "index": 1,
            "metadata_key": "@version",
            "metadata_value": {
              "Literal": "1"
            }
          }
        }
      },
      {
        "Op": "And"
      },
      {
        "Restriction": {
          "FixedArgMetadataValue": {
            "arg_type": "Input",
            "index": 2,
            "metadata_key": "@type",
            "metadata_value": {
              "Literal": "Demand"
            }
          }
        }
      },
      {
        "Op": "And"
      },
      {
        "Restriction": {
          "FixedArgMetadataValue": {
            "arg_type": "Input",
            "index": 2,
            "metadata_key": "@version",
            "metadata_value": {
              "Literal": "1"
            }
          }
        }
      },
      {
        "Op": "And"
      },
      {
        "Restriction": {
          "FixedArgMetadataValue": {
            "arg_type": "Input",
            "index": 3,
            "metadata_key": "@type",
            "metadata_value": {
              "Literal": "Match2"
            }
          }
        }
      },
      {
        "Op": "And"
      },
      {
        "Restriction": {
          "FixedArgMetadataValue": {
            "arg_type": "Input",
            "index": 3,
            "metadata_key": "@version",
            "metadata_value": {
              "Literal": "1"
            }
          }
        }
      },
      {
        "Op": "And"
      },
      {
        "Restriction": {
          "FixedArgMetadataValue": {
            "arg_type": "Output",
            "index": 0,
            "metadata_key": "@type",
            "metadata_value": {
              "Literal": "Demand"
            }
          }
        }
      },
      {
        "Op": "And"
      },
      {
        "Restriction": {
          "FixedArgMetadataValue": {
            "arg_type": "Output",
            "index": 0,
            "metadata_key": "@version",
            "metadata_value": {
              "Literal": "1"
            }
          }
        }
      },
      {
        "Op": "And"
      },
      {
        "Restriction": {
          "FixedArgMetadataValue": {
            "arg_type": "Output",
            "index": 1,
            "metadata_key": "@type",
            "metadata_value": {
              "Literal": "Match2"
            }
          }
        }
      },
      {
        "Op": "And"
      },
      {
        "Restriction": {
          "FixedArgMetadataValue": {
            "arg_type": "Output",
            "index": 1,
            "metadata_key": "@version",
            "metadata_value": {
              "Literal": "1"
            }
          }
        }
      },
      {
        "Op": "And"
      },
      {
        "Restriction": {
          "FixedArgMetadataValue": {
            "arg_type": "Output",
            "index": 2,
            "metadata_key": "@type",
            "metadata_value": {
              "Literal": "Demand"
            }
          }
        }
      },
      {
        "Op": "And"
      },
      {
        "Restriction": {
          "FixedArgMetadataValue": {
            "arg_type": "Output",
            "index": 2,
            "metadata_key": "@version",
            "metadata_value": {
              "Literal": "1"
            }
          }
        }
      },
      {
        "Op": "And"
      },
      {
        "Restriction": {
          "FixedArgMetadataValue": {
            "arg_type": "Output",
            "index": 3,
            "metadata_key": "@type",
            "metadata_value": {
              "Literal": "Match2"
            }
          }
        }
      },
      {
        "Op": "And"
      },
      {
        "Restriction": {
          "FixedArgMetadataValue": {
            "arg_type": "Output",
            "index": 3,
            "metadata_key": "@version",
            "metadata_value": {
              "Literal": "1"
            }
          }
        }
      },
      {
        "Op": "And"
      },
      {
        "Restriction": {
          "ArgHasRole": {
            "arg_type": "Reference",
            "index": 0,
            "role_key": "owner"
          }
        }
      },
      {
        "Op": "And"
      },
      {
        "Restriction": {
          "FixedArgMetadataValue": {
            "arg_type": "Reference",
            "index": 0,
            "metadata_key": "subtype",
            "metadata_value": {
              "Literal": "demand_b"
            }
          }
        }
      },
      {
        "Restriction": {
          "FixedArgMetadataValue": {
            "arg_type": "Reference",
            "index": 0,
            "metadata_key": "subtype",
            "metadata_value": {
              "Literal": "demand_a"
            }
          }
        }
      },
      {
        "Op": "Or"
      },
      {
        "Op": "And"
      },
      {
        "Restriction": {
          "FixedArgMetadataValue": {
            "arg_type": "Reference",
            "index": 0,
            "metadata_key": "state",
            "metadata_value": {
              "Literal": "cancelled"
            }
          }
        }
      },
      {
        "Restriction": {
          "FixedArgMetadataValue": {
            "arg_type": "Reference",
            "index": 0,
            "metadata_key": "state",
            "metadata_value": {
              "Literal": "allocated"
            }
          }
        }
      },
      {
        "Restriction": {
          "FixedArgMetadataValue": {
            "arg_type": "Reference",
            "index": 0,
            "metadata_key": "state",
            "metadata_value": {
              "Literal": "created"
            }
          }
        }
      },
      {
        "Op": "Or"
      },
      {
        "Op": "Or"
      },
      {
        "Op": "And"
      },
      {
        "Restriction": {
          "ArgHasMetadata": {
            "arg_type": "Reference",
            "index": 0,
            "metadata_key": "parameters"
          }
        }
      },
      {
        "Restriction": "None"
      },
      {
        "Op": "NotL"
      },
      {
        "Restriction": {
          "FixedArgMetadataValueType": {
            "arg_type": "Reference",
            "index": 0,
            "metadata_key": "parameters",
            "metadata_value_type": "File"
          }
        }
      },
      {
        "Op": "Or"
      },
      {
        "Op": "And"
      },
      {
        "Restriction": {
          "FixedArgMetadataValueType": {
            "arg_type": "Reference",
            "index": 0,
            "metadata_key": "comment",
            "metadata_value_type": "File"
          }
        }
      },
      {
        "Restriction": {
          "ArgHasMetadata": {
            "arg_type": "Reference",
            "index": 0,
            "metadata_key": "comment"
          }
        }
      },
      {
        "Restriction": "None"
      },
      {
        "Op": "NotL"
      },
      {
        "Op": "Or"
      },
      {
        "Op": "And"
      },
      {
        "Restriction": {
          "ArgHasRole": {
            "arg_type": "Input",
            "index": 0,
            "role_key": "owner"
          }
        }
      },
      {
        "Op": "And"
      },
      {
        "Restriction": {
          "FixedArgMetadataValue": {
            "arg_type": "Input",
            "index": 0,
            "metadata_key": "subtype",
            "metadata_value": {
              "Literal": "demand_b"
            }
          }
        }
      },
      {
        "Restriction": {
          "FixedArgMetadataValue": {
            "arg_type": "Input",
            "index": 0,
            "metadata_key": "subtype",
            "metadata_value": {
              "Literal": "demand_a"
            }
          }
        }
      },
      {
        "Op": "Or"
      },
      {
        "Op": "And"
      },
      {
        "Restriction": {
          "FixedArgMetadataValue": {
            "arg_type": "Input",
            "index": 0,
            "metadata_key": "state",
            "metadata_value": {
              "Literal": "cancelled"
            }
          }
        }
      },
      {
        "Restriction": {
          "FixedArgMetadataValue": {
            "arg_type": "Input",
            "index": 0,
            "metadata_key": "state",
            "metadata_value": {
              "Literal": "allocated"
            }
          }
        }
      },
      {
        "Restriction": {
          "FixedArgMetadataValue": {
            "arg_type": "Input",
            "index": 0,
            "metadata_key": "state",
            "metadata_value": {
              "Literal": "created"
            }
          }
        }
      },
      {
        "Op": "Or"
      },
      {
        "Op": "Or"
      },
      {
        "Op": "And"
      },
      {
        "Restriction": {
          "ArgHasMetadata": {
            "arg_type": "Input",
            "index": 0,
            "metadata_key": "parameters"
          }
        }
      },
      {
        "Restriction": "None"
      },
      {
        "Op": "NotL"
      },
      {
        "Restriction": {
          "FixedArgMetadataValueType": {
            "arg_type": "Input",
            "index": 0,
            "metadata_key": "parameters",
            "metadata_value_type": "File"
          }
        }
      },
      {
        "Op": "Or"
      },
      {
        "Op": "And"
      },
      {
        "Restriction": {
          "FixedArgMetadataValueType": {
            "arg_type": "Input",
            "index": 0,
            "metadata_key": "comment",
            "metadata_value_type": "File"
          }
        }
      },
      {
        "Restriction": {
          "ArgHasMetadata": {
            "arg_type": "Input",
            "index": 0,
            "metadata_key": "comment"
          }
        }
      },
      {
        "Restriction": "None"
      },
      {
        "Op": "NotL"
      },
      {
        "Op": "Or"
      },
      {
        "Op": "And"
      },
      {
        "Restriction": {
          "ArgHasRole": {
            "arg_type": "Input",
            "index": 1,
            "role_key": "optimiser"
          }
        }
      },
      {
        "Op": "And"
      },
      {
        "Restriction": {
          "ArgHasRole": {
            "arg_type": "Input",
            "index": 1,
            "role_key": "member_a"
          }
        }
      },
      {
        "Op": "And"
      },
      {
        "Restriction": {
          "FixedArgMetadataValueType": {
            "arg_type": "Input",
            "index": 1,
            "metadata_key": "demand_a",
            "metadata_value_type": "TokenId"
          }
        }
      },
      {
        "Op": "And"
      },
      {
        "Restriction": {
          "ArgHasRole": {
            "arg_type": "Input",
            "index": 1,
            "role_key": "member_b"
          }
        }
      },
      {
        "Op": "And"
      },
      {
        "Restriction": {
          "FixedArgMetadataValueType": {
            "arg_type": "Input",
            "index": 1,
            "metadata_key": "demand_b",
            "metadata_value_type": "TokenId"
          }
        }
      },
      {
        "Op": "And"
      },
      {
        "Restriction": {
          "FixedArgMetadataValue": {
            "arg_type": "Input",
            "index": 1,
            "metadata_key": "state",
            "metadata_value": {
              "Literal": "cancelled"
            }
          }
        }
      },
      {
        "Restriction": {
          "FixedArgMetadataValue": {
            "arg_type": "Input",
            "index": 1,
            "metadata_key": "state",
            "metadata_value": {
              "Literal": "acceptedFinal"
            }
          }
        }
      },
      {
        "Restriction": {
          "FixedArgMetadataValue": {
            "arg_type": "Input",
            "index": 1,
            "metadata_key": "state",
            "metadata_value": {
              "Literal": "acceptedB"
            }
          }
        }
      },
      {
        "Restriction": {
          "FixedArgMetadataValue": {
            "arg_type": "Input",
            "index": 1,
            "metadata_key": "state",
            "metadata_value": {
              "Literal": "acceptedA"
            }
          }
        }
      },
      {
        "Restriction": {
          "FixedArgMetadataValue": {
            "arg_type": "Input",
            "index": 1,
            "metadata_key": "state",
            "metadata_value": {
              "Literal": "proposed"
            }
          }
        }
      },
      {
        "Op": "Or"
      },
      {
        "Op": "Or"
      },
      {
        "Op": "Or"
      },
      {
        "Op": "Or"
      },
      {
        "Op": "And"
      },
      {
        "Restriction": {
          "ArgHasMetadata": {
            "arg_type": "Input",
            "index": 1,
            "metadata_key": "replaces"
          }
        }
      },
      {
        "Restriction": "None"
      },
      {
        "Op": "NotL"
      },
      {
        "Restriction": {
          "FixedArgMetadataValueType": {
            "arg_type": "Input",
            "index": 1,
            "metadata_key": "replaces",
            "metadata_value_type": "TokenId"
          }
        }
      },
      {
        "Op": "Or"
      },
      {
        "Op": "And"
      },
      {
        "Restriction": {
          "FixedArgMetadataValueType": {
            "arg_type": "Input",
            "index": 1,
            "metadata_key": "comment",
            "metadata_value_type": "File"
          }
        }
      },
      {
        "Restriction": {
          "ArgHasMetadata": {
            "arg_type": "Input",
            "index": 1,
            "metadata_key": "comment"
          }
        }
      },
      {
        "Restriction": "None"
      },
      {
        "Op": "NotL"
      },
      {
        "Op": "Or"
      },
      {
        "Op": "And"
      },
      {
        "Restriction": {
          "ArgHasRole": {
            "arg_type": "Input",
            "index": 2,
            "role_key": "owner"
          }
        }
      },
      {
        "Op": "And"
      },
      {
        "Restriction": {
          "FixedArgMetadataValue": {
            "arg_type": "Input",
            "index": 2,
            "metadata_key": "subtype",
            "metadata_value": {
              "Literal": "demand_b"
            }
          }
        }
      },
      {
        "Restriction": {
          "FixedArgMetadataValue": {
            "arg_type": "Input",
            "index": 2,
            "metadata_key": "subtype",
            "metadata_value": {
              "Literal": "demand_a"
            }
          }
        }
      },
      {
        "Op": "Or"
      },
      {
        "Op": "And"
      },
      {
        "Restriction": {
          "FixedArgMetadataValue": {
            "arg_type": "Input",
            "index": 2,
            "metadata_key": "state",
            "metadata_value": {
              "Literal": "cancelled"
            }
          }
        }
      },
      {
        "Restriction": {
          "FixedArgMetadataValue": {
            "arg_type": "Input",
            "index": 2,
            "metadata_key": "state",
            "metadata_value": {
              "Literal": "allocated"
            }
          }
        }
      },
      {
        "Restriction": {
          "FixedArgMetadataValue": {
            "arg_type": "Input",
            "index": 2,
            "metadata_key": "state",
            "metadata_value": {
              "Literal": "created"
            }
          }
        }
      },
      {
        "Op": "Or"
      },
      {
        "Op": "Or"
      },
      {
        "Op": "And"
      },
      {
        "Restriction": {
          "ArgHasMetadata": {
            "arg_type": "Input",
            "index": 2,
            "metadata_key": "parameters"
          }
        }
      },
      {
        "Restriction": "None"
      },
      {
        "Op": "NotL"
      },
      {
        "Restriction": {
          "FixedArgMetadataValueType": {
            "arg_type": "Input",
            "index": 2,
            "metadata_key": "parameters",
            "metadata_value_type": "File"
          }
        }
      },
      {
        "Op": "Or"
      },
      {
        "Op": "And"
      },
      {
        "Restriction": {
          "FixedArgMetadataValueType": {
            "arg_type": "Input",
            "index": 2,
            "metadata_key": "comment",
            "metadata_value_type": "File"
          }
        }
      },
      {
        "Restriction": {
          "ArgHasMetadata": {
            "arg_type": "Input",
            "index": 2,
            "metadata_key": "comment"
          }
        }
      },
      {
        "Restriction": "None"
      },
      {
        "Op": "NotL"
      },
      {
        "Op": "Or"
      },
      {
        "Op": "And"
      },
      {
        "Restriction": {
          "ArgHasRole": {
            "arg_type": "Input",
            "index": 3,
            "role_key": "optimiser"
          }
        }
      },
      {
        "Op": "And"
      },
      {
        "Restriction": {
          "ArgHasRole": {
            "arg_type": "Input",
            "index": 3,
            "role_key": "member_a"
          }
        }
      },
      {
        "Op": "And"
      },
      {
        "Restriction": {
          "FixedArgMetadataValueType": {
            "arg_type": "Input",
            "index": 3,
            "metadata_key": "demand_a",
            "metadata_value_type": "TokenId"
          }
        }
      },
      {
        "Op": "And"
      },
      {
        "Restriction": {
          "ArgHasRole": {
            "arg_type": "Input",
            "index": 3,
            "role_key": "member_b"
          }
        }
      },
      {
        "Op": "And"
      },
      {
        "Restriction": {
          "FixedArgMetadataValueType": {
            "arg_type": "Input",
            "index": 3,
            "metadata_key": "demand_b",
            "metadata_value_type": "TokenId"
          }
        }
      },
      {
        "Op": "And"
      },
      {
        "Restriction": {
          "FixedArgMetadataValue": {
            "arg_type": "Input",
            "index": 3,
            "metadata_key": "state",
            "metadata_value": {
              "Literal": "cancelled"
            }
          }
        }
      },
      {
        "Restriction": {
          "FixedArgMetadataValue": {
            "arg_type": "Input",
            "index": 3,
            "metadata_key": "state",
            "metadata_value": {
              "Literal": "acceptedFinal"
            }
          }
        }
      },
      {
        "Restriction": {
          "FixedArgMetadataValue": {
            "arg_type": "Input",
            "index": 3,
            "metadata_key": "state",
            "metadata_value": {
              "Literal": "acceptedB"
            }
          }
        }
      },
      {
        "Restriction": {
          "FixedArgMetadataValue": {
            "arg_type": "Input",
            "index": 3,
            "metadata_key": "state",
            "metadata_value": {
              "Literal": "acceptedA"
            }
          }
        }
      },
      {
        "Restriction": {
          "FixedArgMetadataValue": {
            "arg_type": "Input",
            "index": 3,
            "metadata_key": "state",
            "metadata_value": {
              "Literal": "proposed"
            }
          }
        }
      },
      {
        "Op": "Or"
      },
      {
        "Op": "Or"
      },
      {
        "Op": "Or"
      },
      {
        "Op": "Or"
      },
      {
        "Op": "And"
      },
      {
        "Restriction": {
          "ArgHasMetadata": {
            "arg_type": "Input",
            "index": 3,
            "metadata_key": "replaces"
          }
        }
      },
      {
        "Restriction": "None"
      },
      {
        "Op": "NotL"
      },
      {
        "Restriction": {
          "FixedArgMetadataValueType": {
            "arg_type": "Input",
            "index": 3,
            "metadata_key": "replaces",
            "metadata_value_type": "TokenId"
          }
        }
      },
      {
        "Op": "Or"
      },
      {
        "Op": "And"
      },
      {
        "Restriction": {
          "FixedArgMetadataValueType": {
            "arg_type": "Input",
            "index": 3,
            "metadata_key": "comment",
            "metadata_value_type": "File"
          }
        }
      },
      {
        "Restriction": {
          "ArgHasMetadata": {
            "arg_type": "Input",
            "index": 3,
            "metadata_key": "comment"
          }
        }
      },
      {
        "Restriction": "None"
      },
      {
        "Op": "NotL"
      },
      {
        "Op": "Or"
      },
      {
        "Op": "And"
      },
      {
        "Restriction": {
          "ArgHasRole": {
            "arg_type": "Output",
            "index": 0,
            "role_key": "owner"
          }
        }
      },
      {
        "Op": "And"
      },
      {
        "Restriction": {
          "FixedArgMetadataValue": {
            "arg_type": "Output",
            "index": 0,
            "metadata_key": "subtype",
            "metadata_value": {
              "Literal": "demand_b"
            }
          }
        }
      },
      {
        "Restriction": {
          "FixedArgMetadataValue": {
            "arg_type": "Output",
            "index": 0,
            "metadata_key": "subtype",
            "metadata_value": {
              "Literal": "demand_a"
            }
          }
        }
      },
      {
        "Op": "Or"
      },
      {
        "Op": "And"
      },
      {
        "Restriction": {
          "FixedArgMetadataValue": {
            "arg_type": "Output",
            "index": 0,
            "metadata_key": "state",
            "metadata_value": {
              "Literal": "cancelled"
            }
          }
        }
      },
      {
        "Restriction": {
          "FixedArgMetadataValue": {
            "arg_type": "Output",
            "index": 0,
            "metadata_key": "state",
            "metadata_value": {
              "Literal": "allocated"
            }
          }
        }
      },
      {
        "Restriction": {
          "FixedArgMetadataValue": {
            "arg_type": "Output",
            "index": 0,
            "metadata_key": "state",
            "metadata_value": {
              "Literal": "created"
            }
          }
        }
      },
      {
        "Op": "Or"
      },
      {
        "Op": "Or"
      },
      {
        "Op": "And"
      },
      {
        "Restriction": {
          "ArgHasMetadata": {
            "arg_type": "Output",
            "index": 0,
            "metadata_key": "parameters"
          }
        }
      },
      {
        "Restriction": "None"
      },
      {
        "Op": "NotL"
      },
      {
        "Restriction": {
          "FixedArgMetadataValueType": {
            "arg_type": "Output",
            "index": 0,
            "metadata_key": "parameters",
            "metadata_value_type": "File"
          }
        }
      },
      {
        "Op": "Or"
      },
      {
        "Op": "And"
      },
      {
        "Restriction": {
          "FixedArgMetadataValueType": {
            "arg_type": "Output",
            "index": 0,
            "metadata_key": "comment",
            "metadata_value_type": "File"
          }
        }
      },
      {
        "Restriction": {
          "ArgHasMetadata": {
            "arg_type": "Output",
            "index": 0,
            "metadata_key": "comment"
          }
        }
      },
      {
        "Restriction": "None"
      },
      {
        "Op": "NotL"
      },
      {
        "Op": "Or"
      },
      {
        "Op": "And"
      },
      {
        "Restriction": {
          "ArgHasRole": {
            "arg_type": "Output",
            "index": 1,
            "role_key": "optimiser"
          }
        }
      },
      {
        "Op": "And"
      },
      {
        "Restriction": {
          "ArgHasRole": {
            "arg_type": "Output",
            "index": 1,
            "role_key": "member_a"
          }
        }
      },
      {
        "Op": "And"
      },
      {
        "Restriction": {
          "FixedArgMetadataValueType": {
            "arg_type": "Output",
            "index": 1,
            "metadata_key": "demand_a",
            "metadata_value_type": "TokenId"
          }
        }
      },
      {
        "Op": "And"
      },
      {
        "Restriction": {
          "ArgHasRole": {
            "arg_type": "Output",
            "index": 1,
            "role_key": "member_b"
          }
        }
      },
      {
        "Op": "And"
      },
      {
        "Restriction": {
          "FixedArgMetadataValueType": {
            "arg_type": "Output",
            "index": 1,
            "metadata_key": "demand_b",
            "metadata_value_type": "TokenId"
          }
        }
      },
      {
        "Op": "And"
      },
      {
        "Restriction": {
          "FixedArgMetadataValue": {
            "arg_type": "Output",
            "index": 1,
            "metadata_key": "state",
            "metadata_value": {
              "Literal": "cancelled"
            }
          }
        }
      },
      {
        "Restriction": {
          "FixedArgMetadataValue": {
            "arg_type": "Output",
            "index": 1,
            "metadata_key": "state",
            "metadata_value": {
              "Literal": "acceptedFinal"
            }
          }
        }
      },
      {
        "Restriction": {
          "FixedArgMetadataValue": {
            "arg_type": "Output",
            "index": 1,
            "metadata_key": "state",
            "metadata_value": {
              "Literal": "acceptedB"
            }
          }
        }
      },
      {
        "Restriction": {
          "FixedArgMetadataValue": {
            "arg_type": "Output",
            "index": 1,
            "metadata_key": "state",
            "metadata_value": {
              "Literal": "acceptedA"
            }
          }
        }
      },
      {
        "Restriction": {
          "FixedArgMetadataValue": {
            "arg_type": "Output",
            "index": 1,
            "metadata_key": "state",
            "metadata_value": {
              "Literal": "proposed"
            }
          }
        }
      },
      {
        "Op": "Or"
      },
      {
        "Op": "Or"
      },
      {
        "Op": "Or"
      },
      {
        "Op": "Or"
      },
      {
        "Op": "And"
      },
      {
        "Restriction": {
          "ArgHasMetadata": {
            "arg_type": "Output",
            "index": 1,
            "metadata_key": "replaces"
          }
        }
      },
      {
        "Restriction": "None"
      },
      {
        "Op": "NotL"
      },
      {
        "Restriction": {
          "FixedArgMetadataValueType": {
            "arg_type": "Output",
            "index": 1,
            "metadata_key": "replaces",
            "metadata_value_type": "TokenId"
          }
        }
      },
      {
        "Op": "Or"
      },
      {
        "Op": "And"
      },
      {
        "Restriction": {
          "FixedArgMetadataValueType": {
            "arg_type": "Output",
            "index": 1,
            "metadata_key": "comment",
            "metadata_value_type": "File"
          }
        }
      },
      {
        "Restriction": {
          "ArgHasMetadata": {
            "arg_type": "Output",
            "index": 1,
            "metadata_key": "comment"
          }
        }
      },
      {
        "Restriction": "None"
      },
      {
        "Op": "NotL"
      },
      {
        "Op": "Or"
      },
      {
        "Op": "And"
      },
      {
        "Restriction": {
          "ArgHasRole": {
            "arg_type": "Output",
            "index": 2,
            "role_key": "owner"
          }
        }
      },
      {
        "Op": "And"
      },
      {
        "Restriction": {
          "FixedArgMetadataValue": {
            "arg_type": "Output",
            "index": 2,
            "metadata_key": "subtype",
            "metadata_value": {
              "Literal": "demand_b"
            }
          }
        }
      },
      {
        "Restriction": {
          "FixedArgMetadataValue": {
            "arg_type": "Output",
            "index": 2,
            "metadata_key": "subtype",
            "metadata_value": {
              "Literal": "demand_a"
            }
          }
        }
      },
      {
        "Op": "Or"
      },
      {
        "Op": "And"
      },
      {
        "Restriction": {
          "FixedArgMetadataValue": {
            "arg_type": "Output",
            "index": 2,
            "metadata_key": "state",
            "metadata_value": {
              "Literal": "cancelled"
            }
          }
        }
      },
      {
        "Restriction": {
          "FixedArgMetadataValue": {
            "arg_type": "Output",
            "index": 2,
            "metadata_key": "state",
            "metadata_value": {
              "Literal": "allocated"
            }
          }
        }
      },
      {
        "Restriction": {
          "FixedArgMetadataValue": {
            "arg_type": "Output",
            "index": 2,
            "metadata_key": "state",
            "metadata_value": {
              "Literal": "created"
            }
          }
        }
      },
      {
        "Op": "Or"
      },
      {
        "Op": "Or"
      },
      {
        "Op": "And"
      },
      {
        "Restriction": {
          "ArgHasMetadata": {
            "arg_type": "Output",
            "index": 2,
            "metadata_key": "parameters"
          }
        }
      },
      {
        "Restriction": "None"
      },
      {
        "Op": "NotL"
      },
      {
        "Restriction": {
          "FixedArgMetadataValueType": {
            "arg_type": "Output",
            "index": 2,
            "metadata_key": "parameters",
            "metadata_value_type": "File"
          }
        }
      },
      {
        "Op": "Or"
      },
      {
        "Op": "And"
      },
      {
        "Restriction": {
          "FixedArgMetadataValueType": {
            "arg_type": "Output",
            "index": 2,
            "metadata_key": "comment",
            "metadata_value_type": "File"
          }
        }
      },
      {
        "Restriction": {
          "ArgHasMetadata": {
            "arg_type": "Output",
            "index": 2,
            "metadata_key": "comment"
          }
        }
      },
      {
        "Restriction": "None"
      },
      {
        "Op": "NotL"
      },
      {
        "Op": "Or"
      },
      {
        "Op": "And"
      },
      {
        "Restriction": {
          "ArgHasRole": {
            "arg_type": "Output",
            "index": 3,
            "role_key": "optimiser"
          }
        }
      },
      {
        "Op": "And"
      },
      {
        "Restriction": {
          "ArgHasRole": {
            "arg_type": "Output",
            "index": 3,
            "role_key": "member_a"
          }
        }
      },
      {
        "Op": "And"
      },
      {
        "Restriction": {
          "FixedArgMetadataValueType": {
            "arg_type": "Output",
            "index": 3,
            "metadata_key": "demand_a",
            "metadata_value_type": "TokenId"
          }
        }
      },
      {
        "Op": "And"
      },
      {
        "Restriction": {
          "ArgHasRole": {
            "arg_type": "Output",
            "index": 3,
            "role_key": "member_b"
          }
        }
      },
      {
        "Op": "And"
      },
      {
        "Restriction": {
          "FixedArgMetadataValueType": {
            "arg_type": "Output",
            "index": 3,
            "metadata_key": "demand_b",
            "metadata_value_type": "TokenId"
          }
        }
      },
      {
        "Op": "And"
      },
      {
        "Restriction": {
          "FixedArgMetadataValue": {
            "arg_type": "Output",
            "index": 3,
            "metadata_key": "state",
            "metadata_value": {
              "Literal": "cancelled"
            }
          }
        }
      },
      {
        "Restriction": {
          "FixedArgMetadataValue": {
            "arg_type": "Output",
            "index": 3,
            "metadata_key": "state",
            "metadata_value": {
              "Literal": "acceptedFinal"
            }
          }
        }
      },
      {
        "Restriction": {
          "FixedArgMetadataValue": {
            "arg_type": "Output",
            "index": 3,
            "metadata_key": "state",
            "metadata_value": {
              "Literal": "acceptedB"
            }
          }
        }
      },
      {
        "Restriction": {
          "FixedArgMetadataValue": {
            "arg_type": "Output",
            "index": 3,
            "metadata_key": "state",
            "metadata_value": {
              "Literal": "acceptedA"
            }
          }
        }
      },
      {
        "Restriction": {
          "FixedArgMetadataValue": {
            "arg_type": "Output",
            "index": 3,
            "metadata_key": "state",
            "metadata_value": {
              "Literal": "proposed"
            }
          }
        }
      },
      {
        "Op": "Or"
      },
      {
        "Op": "Or"
      },
      {
        "Op": "Or"
      },
      {
        "Op": "Or"
      },
      {
        "Op": "And"
      },
      {
        "Restriction": {
          "ArgHasMetadata": {
            "arg_type": "Output",
            "index": 3,
            "metadata_key": "replaces"
          }
        }
      },
      {
        "Restriction": "None"
      },
      {
        "Op": "NotL"
      },
      {
        "Restriction": {
          "FixedArgMetadataValueType": {
            "arg_type": "Output",
            "index": 3,
            "metadata_key": "replaces",
            "metadata_value_type": "TokenId"
          }
        }
      },
      {
        "Op": "Or"
      },
      {
        "Op": "And"
      },
      {
        "Restriction": {
          "FixedArgMetadataValueType": {
            "arg_type": "Output",
            "index": 3,
            "metadata_key": "comment",
            "metadata_value_type": "File"
          }
        }
      },
      {
        "Restriction": {
          "ArgHasMetadata": {
            "arg_type": "Output",
            "index": 3,
            "metadata_key": "comment"
          }
        }
      },
      {
        "Restriction": "None"
      },
      {
        "Op": "NotL"
      },
      {
        "Op": "Or"
      },
      {
        "Op": "And"
      },
      {
        "Restriction": {
          "FixedArgMetadataValue": {
            "arg_type": "Reference",
            "index": 0,
            "metadata_key": "subtype",
            "metadata_value": {
              "Literal": "demand_a"
            }
          }
        }
      },
      {
        "Op": "And"
      },
      {
        "Restriction": {
          "FixedArgMetadataValue": {
            "arg_type": "Reference",
            "index": 0,
            "metadata_key": "state",
            "metadata_value": {
              "Literal": "allocated"
            }
          }
        }
      },
      {
        "Op": "And"
      },
      {
        "Restriction": {
          "MatchArgsMetadataValue": {
            "left_arg_type": "Input",
            "left_index": 0,
            "left_metadata_key": "@original_id",
            "right_arg_type": "Output",
            "right_index": 0,
            "right_metadata_key": "@original_id"
          }
        }
      },
      {
        "Restriction": {
          "ArgHasMetadata": {
            "arg_type": "Input",
            "index": 0,
            "metadata_key": "@original_id"
          }
        }
      },
      {
        "Restriction": {
          "MatchArgIdToMetadataValue": {
            "left_arg_type": "Input",
            "left_index": 0,
            "right_arg_type": "Output",
            "right_index": 0,
            "right_metadata_key": "@original_id"
          }
        }
      },
      {
        "Op": "InhibitionR"
      },
      {
        "Op": "Xor"
      },
      {
        "Op": "And"
      },
      {
        "Restriction": {
          "MatchArgsRole": {
            "left_arg_type": "Input",
            "left_index": 0,
            "left_role_key": "owner",
            "right_arg_type": "Output",
            "right_index": 0,
            "right_role_key": "owner"
          }
        }
      },
      {
        "Op": "And"
      },
      {
        "Restriction": {
          "MatchArgsMetadataValue": {
            "left_arg_type": "Input",
            "left_index": 0,
            "left_metadata_key": "subtype",
            "right_arg_type": "Output",
            "right_index": 0,
            "right_metadata_key": "subtype"
          }
        }
      },
      {
        "Op": "And"
      },
      {
        "Restriction": {
          "ArgHasMetadata": {
            "arg_type": "Output",
            "index": 0,
            "metadata_key": "parameters"
          }
        }
      },
      {
        "Restriction": "None"
      },
      {
        "Op": "NotL"
      },
      {
        "Op": "And"
      },
      {
        "Restriction": {
          "FixedArgMetadataValue": {
            "arg_type": "Input",
            "index": 0,
            "metadata_key": "subtype",
            "metadata_value": {
              "Literal": "demand_b"
            }
          }
        }
      },
      {
        "Op": "And"
      },
      {
        "Restriction": {
          "FixedArgMetadataValue": {
            "arg_type": "Input",
            "index": 0,
            "metadata_key": "state",
            "metadata_value": {
              "Literal": "allocated"
            }
          }
        }
      },
      {
        "Op": "And"
      },
      {
        "Restriction": {
          "FixedArgMetadataValue": {
            "arg_type": "Output",
            "index": 0,
            "metadata_key": "state",
            "metadata_value": {
              "Literal": "cancelled"
            }
          }
        }
      },
      {
        "Op": "And"
      },
      {
        "Restriction": {
          "MatchArgsMetadataValue": {
            "left_arg_type": "Input",
            "left_index": 1,
            "left_metadata_key": "@original_id",
            "right_arg_type": "Output",
            "right_index": 1,
            "right_metadata_key": "@original_id"
          }
        }
      },
      {
        "Restriction": {
          "ArgHasMetadata": {
            "arg_type": "Input",
            "index": 1,
            "metadata_key": "@original_id"
          }
        }
      },
      {
        "Restriction": {
          "MatchArgIdToMetadataValue": {
            "left_arg_type": "Input",
            "left_index": 1,
            "right_arg_type": "Output",
            "right_index": 1,
            "right_metadata_key": "@original_id"
          }
        }
      },
      {
        "Op": "InhibitionR"
      },
      {
        "Op": "Xor"
      },
      {
        "Op": "And"
      },
      {
        "Restriction": {
          "MatchArgsRole": {
            "left_arg_type": "Input",
            "left_index": 1,
            "left_role_key": "optimiser",
            "right_arg_type": "Output",
            "right_index": 1,
            "right_role_key": "optimiser"
          }
        }
      },
      {
        "Op": "And"
      },
      {
        "Restriction": {
          "MatchArgsRole": {
            "left_arg_type": "Input",
            "left_index": 1,
            "left_role_key": "member_a",
            "right_arg_type": "Output",
            "right_index": 1,
            "right_role_key": "member_a"
          }
        }
      },
      {
        "Op": "And"
      },
      {
        "Restriction": {
          "MatchArgsMetadataValue": {
            "left_arg_type": "Input",
            "left_index": 1,
            "left_metadata_key": "demand_a",
            "right_arg_type": "Output",
            "right_index": 1,
            "right_metadata_key": "demand_a"
          }
        }
      },
      {
        "Op": "And"
      },
      {
        "Restriction": {
          "MatchArgsRole": {
            "left_arg_type": "Input",
            "left_index": 1,
            "left_role_key": "member_b",
            "right_arg_type": "Output",
            "right_index": 1,
            "right_role_key": "member_b"
          }
        }
      },
      {
        "Op": "And"
      },
      {
        "Restriction": {
          "MatchArgsMetadataValue": {
            "left_arg_type": "Input",
            "left_index": 1,
            "left_metadata_key": "demand_b",
            "right_arg_type": "Output",
            "right_index": 1,
            "right_metadata_key": "demand_b"
          }
        }
      },
      {
        "Op": "And"
      },
      {
        "Restriction": {
          "ArgHasMetadata": {
            "arg_type": "Input",
            "index": 1,
            "metadata_key": "replaces"
          }
        }
      },
      {
        "Restriction": {
          "ArgHasMetadata": {
            "arg_type": "Output",
            "index": 1,
            "metadata_key": "replaces"
          }
        }
      },
      {
        "Op": "Xnor"
      },
      {
        "Restriction": {
          "ArgHasRole": {
            "arg_type": "Input",
            "index": 1,
            "role_key": "replaces"
          }
        }
      },
      {
        "Restriction": {
          "ArgHasRole": {
            "arg_type": "Output",
            "index": 1,
            "role_key": "replaces"
          }
        }
      },
      {
        "Op": "Xnor"
      },
      {
        "Op": "And"
      },
      {
        "Restriction": {
          "MatchArgsMetadataValue": {
            "left_arg_type": "Input",
            "left_index": 1,
            "left_metadata_key": "replaces",
            "right_arg_type": "Output",
            "right_index": 1,
            "right_metadata_key": "replaces"
          }
        }
      },
      {
        "Restriction": {
          "ArgHasMetadata": {
            "arg_type": "Output",
            "index": 1,
            "metadata_key": "replaces"
          }
        }
      },
      {
        "Op": "ImplicationR"
      },
      {
        "Op": "And"
      },
      {
        "Op": "And"
      },
      {
        "Restriction": {
          "FixedArgMetadataValue": {
            "arg_type": "Input",
            "index": 1,
            "metadata_key": "state",
            "metadata_value": {
              "Literal": "acceptedFinal"
            }
          }
        }
      },
      {
        "Op": "And"
      },
      {
        "Restriction": {
          "FixedArgMetadataValue": {
            "arg_type": "Output",
            "index": 1,
            "metadata_key": "state",
            "metadata_value": {
              "Literal": "cancelled"
            }
          }
        }
      },
      {
        "Op": "And"
      },
      {
        "Restriction": {
          "MatchArgsMetadataValue": {
            "left_arg_type": "Reference",
            "left_index": 0,
            "left_metadata_key": "@original_id",
            "right_arg_type": "Output",
            "right_index": 1,
            "right_metadata_key": "demand_a"
          }
        }
      },
      {
        "Restriction": {
          "ArgHasMetadata": {
            "arg_type": "Reference",
            "index": 0,
            "metadata_key": "demand_a"
          }
        }
      },
      {
        "Restriction": {
          "MatchArgIdToMetadataValue": {
            "left_arg_type": "Reference",
            "left_index": 0,
            "right_arg_type": "Output",
            "right_index": 1,
            "right_metadata_key": "demand_a"
          }
        }
      },
      {
        "Op": "InhibitionR"
      },
      {
        "Op": "Xor"
      },
      {
        "Op": "And"
      },
      {
        "Restriction": {
          "MatchArgsMetadataValue": {
            "left_arg_type": "Input",
            "left_index": 0,
            "left_metadata_key": "@original_id",
            "right_arg_type": "Output",
            "right_index": 1,
            "right_metadata_key": "demand_b"
          }
        }
      },
      {
        "Restriction": {
          "ArgHasMetadata": {
            "arg_type": "Input",
            "index": 0,
            "metadata_key": "demand_b"
          }
        }
      },
      {
        "Restriction": {
          "MatchArgIdToMetadataValue": {
            "left_arg_type": "Input",
            "left_index": 0,
            "right_arg_type": "Output",
            "right_index": 1,
            "right_metadata_key": "demand_b"
          }
        }
      },
      {
        "Op": "InhibitionR"
      },
      {
        "Op": "Xor"
      },
      {
        "Op": "And"
      },
      {
        "Restriction": {
          "MatchArgsMetadataValue": {
            "left_arg_type": "Input",
            "left_index": 2,
            "left_metadata_key": "@original_id",
            "right_arg_type": "Output",
            "right_index": 2,
            "right_metadata_key": "@original_id"
          }
        }
      },
      {
        "Restriction": {
          "ArgHasMetadata": {
            "arg_type": "Input",
            "index": 2,
            "metadata_key": "@original_id"
          }
        }
      },
      {
        "Restriction": {
          "MatchArgIdToMetadataValue": {
            "left_arg_type": "Input",
            "left_index": 2,
            "right_arg_type": "Output",
            "right_index": 2,
            "right_metadata_key": "@original_id"
          }
        }
      },
      {
        "Op": "InhibitionR"
      },
      {
        "Op": "Xor"
      },
      {
        "Op": "And"
      },
      {
        "Restriction": {
          "MatchArgsRole": {
            "left_arg_type": "Input",
            "left_index": 2,
            "left_role_key": "owner",
            "right_arg_type": "Output",
            "right_index": 2,
            "right_role_key": "owner"
          }
        }
      },
      {
        "Op": "And"
      },
      {
        "Restriction": {
          "MatchArgsMetadataValue": {
            "left_arg_type": "Input",
            "left_index": 2,
            "left_metadata_key": "subtype",
            "right_arg_type": "Output",
            "right_index": 2,
            "right_metadata_key": "subtype"
          }
        }
      },
      {
        "Op": "And"
      },
      {
        "Restriction": {
          "ArgHasMetadata": {
            "arg_type": "Output",
            "index": 2,
            "metadata_key": "parameters"
          }
        }
      },
      {
        "Restriction": "None"
      },
      {
        "Op": "NotL"
      },
      {
        "Op": "And"
      },
      {
        "Restriction": {
          "FixedArgMetadataValue": {
            "arg_type": "Input",
            "index": 2,
            "metadata_key": "subtype",
            "metadata_value": {
              "Literal": "demand_b"
            }
          }
        }
      },
      {
        "Op": "And"
      },
      {
        "Restriction": {
          "FixedArgMetadataValue": {
            "arg_type": "Input",
            "index": 2,
            "metadata_key": "state",
            "metadata_value": {
              "Literal": "created"
            }
          }
        }
      },
      {
        "Op": "And"
      },
      {
        "Restriction": {
          "FixedArgMetadataValue": {
            "arg_type": "Output",
            "index": 2,
            "metadata_key": "state",
            "metadata_value": {
              "Literal": "allocated"
            }
          }
        }
      },
      {
        "Op": "And"
      },
      {
        "Restriction": {
          "MatchArgsMetadataValue": {
            "left_arg_type": "Input",
            "left_index": 3,
            "left_metadata_key": "@original_id",
            "right_arg_type": "Output",
            "right_index": 3,
            "right_metadata_key": "@original_id"
          }
        }
      },
      {
        "Restriction": {
          "ArgHasMetadata": {
            "arg_type": "Input",
            "index": 3,
            "metadata_key": "@original_id"
          }
        }
      },
      {
        "Restriction": {
          "MatchArgIdToMetadataValue": {
            "left_arg_type": "Input",
            "left_index": 3,
            "right_arg_type": "Output",
            "right_index": 3,
            "right_metadata_key": "@original_id"
          }
        }
      },
      {
        "Op": "InhibitionR"
      },
      {
        "Op": "Xor"
      },
      {
        "Op": "And"
      },
      {
        "Restriction": {
          "MatchArgsRole": {
            "left_arg_type": "Input",
            "left_index": 3,
            "left_role_key": "optimiser",
            "right_arg_type": "Output",
            "right_index": 3,
            "right_role_key": "optimiser"
          }
        }
      },
      {
        "Op": "And"
      },
      {
        "Restriction": {
          "MatchArgsRole": {
            "left_arg_type": "Input",
            "left_index": 3,
            "left_role_key": "member_a",
            "right_arg_type": "Output",
            "right_index": 3,
            "right_role_key": "member_a"
          }
        }
      },
      {
        "Op": "And"
      },
      {
        "Restriction": {
          "MatchArgsMetadataValue": {
            "left_arg_type": "Input",
            "left_index": 3,
            "left_metadata_key": "demand_a",
            "right_arg_type": "Output",
            "right_index": 3,
            "right_metadata_key": "demand_a"
          }
        }
      },
      {
        "Op": "And"
      },
      {
        "Restriction": {
          "MatchArgsRole": {
            "left_arg_type": "Input",
            "left_index": 3,
            "left_role_key": "member_b",
            "right_arg_type": "Output",
            "right_index": 3,
            "right_role_key": "member_b"
          }
        }
      },
      {
        "Op": "And"
      },
      {
        "Restriction": {
          "MatchArgsMetadataValue": {
            "left_arg_type": "Input",
            "left_index": 3,
            "left_metadata_key": "demand_b",
            "right_arg_type": "Output",
            "right_index": 3,
            "right_metadata_key": "demand_b"
          }
        }
      },
      {
        "Op": "And"
      },
      {
        "Restriction": {
          "ArgHasMetadata": {
            "arg_type": "Input",
            "index": 3,
            "metadata_key": "replaces"
          }
        }
      },
      {
        "Restriction": {
          "ArgHasMetadata": {
            "arg_type": "Output",
            "index": 3,
            "metadata_key": "replaces"
          }
        }
      },
      {
        "Op": "Xnor"
      },
      {
        "Restriction": {
          "ArgHasRole": {
            "arg_type": "Input",
            "index": 3,
            "role_key": "replaces"
          }
        }
      },
      {
        "Restriction": {
          "ArgHasRole": {
            "arg_type": "Output",
            "index": 3,
            "role_key": "replaces"
          }
        }
      },
      {
        "Op": "Xnor"
      },
      {
        "Op": "And"
      },
      {
        "Restriction": {
          "MatchArgsMetadataValue": {
            "left_arg_type": "Input",
            "left_index": 3,
            "left_metadata_key": "replaces",
            "right_arg_type": "Output",
            "right_index": 3,
            "right_metadata_key": "replaces"
          }
        }
      },
      {
        "Restriction": {
          "ArgHasMetadata": {
            "arg_type": "Output",
            "index": 3,
            "metadata_key": "replaces"
          }
        }
      },
      {
        "Op": "ImplicationR"
      },
      {
        "Op": "And"
      },
      {
        "Op": "And"
      },
      {
        "Restriction": {
          "FixedArgMetadataValue": {
            "arg_type": "Output",
            "index": 3,
            "metadata_key": "state",
            "metadata_value": {
              "Literal": "acceptedFinal"
            }
          }
        }
      },
      {
        "Op": "And"
      },
      {
        "Restriction": {
          "MatchArgsMetadataValue": {
            "left_arg_type": "Reference",
            "left_index": 0,
            "left_metadata_key": "@original_id",
            "right_arg_type": "Output",
            "right_index": 3,
            "right_metadata_key": "demand_a"
          }
        }
      },
      {
        "Restriction": {
          "ArgHasMetadata": {
            "arg_type": "Reference",
            "index": 0,
            "metadata_key": "demand_a"
          }
        }
      },
      {
        "Restriction": {
          "MatchArgIdToMetadataValue": {
            "left_arg_type": "Reference",
            "left_index": 0,
            "right_arg_type": "Output",
            "right_index": 3,
            "right_metadata_key": "demand_a"
          }
        }
      },
      {
        "Op": "InhibitionR"
      },
      {
        "Op": "Xor"
      },
      {
        "Op": "And"
      },
      {
        "Restriction": {
          "MatchArgsMetadataValue": {
            "left_arg_type": "Input",
            "left_index": 2,
            "left_metadata_key": "@original_id",
            "right_arg_type": "Output",
            "right_index": 3,
            "right_metadata_key": "demand_b"
          }
        }
      },
      {
        "Restriction": {
          "ArgHasMetadata": {
            "arg_type": "Input",
            "index": 2,
            "metadata_key": "demand_b"
          }
        }
      },
      {
        "Restriction": {
          "MatchArgIdToMetadataValue": {
            "left_arg_type": "Input",
            "left_index": 2,
            "right_arg_type": "Output",
            "right_index": 3,
            "right_metadata_key": "demand_b"
          }
        }
      },
      {
        "Op": "InhibitionR"
      },
      {
        "Op": "Xor"
      },
      {
        "Op": "And"
      },
      {
        "Restriction": {
          "FixedArgMetadataValue": {
            "arg_type": "Input",
            "index": 3,
            "metadata_key": "state",
            "metadata_value": {
              "Literal": "acceptedA"
            }
          }
        }
      },
      {
        "Restriction": {
          "SenderHasArgRole": {
            "arg_type": "Output",
            "index": 3,
            "role_key": "member_b"
          }
        }
      },
      {
        "Op": "And"
      },
      {
        "Restriction": {
          "FixedArgMetadataValue": {
            "arg_type": "Input",
            "index": 3,
            "metadata_key": "state",
            "metadata_value": {
              "Literal": "acceptedB"
            }
          }
        }
      },
      {
        "Restriction": {
          "SenderHasArgRole": {
            "arg_type": "Output",
            "index": 3,
            "role_key": "member_a"
          }
        }
      },
      {
        "Op": "And"
      },
      {
        "Op": "Or"
      },
      {
        "Op": "And"
      }
    ],
    "version": 2
  }
]